<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>OpenAL 1.1 Specification and Reference</title>
<style>
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

#toc.toc2
{
	width: 28em;
}

</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
</head>
<body class="book toc2 toc-left text-justify">
<div id="header">
<h1>OpenAL 1.1 Specification and Reference</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_specification_and_reference">Specification and Reference</a></li>
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_revision_history_1_1_document">1.1. Revision History, 1.1 Document</a></li>
<li><a href="#_a_brief_history_of_openal">1.2. A Brief History of OpenAL</a></li>
<li><a href="#_what_is_the_openal_audio_system">1.3. What Is the OpenAL Audio System?</a></li>
<li><a href="#_differences_between_openal_1_1_and_openal_1_0">1.4. Differences Between OpenAL 1.1 and OpenAL 1.0</a></li>
<li><a href="#_programmers_view_of_openal">1.5. Programmer&#8217;s View of OpenAL</a></li>
<li><a href="#_implementors_view_of_openal">1.6. Implementor&#8217;s View of OpenAL</a></li>
<li><a href="#_our_view">1.7. Our View</a></li>
<li><a href="#_requirements_conformance_and_extensions">1.8. Requirements, Conformance and Extensions</a></li>
<li><a href="#_architecture_review_and_acknowledgments">1.9. Architecture Review and Acknowledgments</a></li>
</ul>
</li>
<li><a href="#_openal_operation">2. OpenAL Operation</a>
<ul class="sectlevel2">
<li><a href="#_openal_fundamentals">2.1. OpenAL Fundamentals</a></li>
<li><a href="#_primitive_types">2.2. Primitive Types</a></li>
<li><a href="#_floating_point_computation">2.3. Floating-Point Computation</a></li>
<li><a href="#_al_state">2.4. AL State</a></li>
<li><a href="#_al_command_syntax">2.5. AL Command Syntax</a></li>
<li><a href="#_basic_al_operation">2.6. Basic AL Operation</a></li>
<li><a href="#_al_errors">2.7. AL Errors</a></li>
<li><a href="#_controlling_al_execution">2.8. Controlling AL Execution</a></li>
<li><a href="#_object_paradigm">2.9. Object Paradigm</a></li>
<li><a href="#_static_vs_dynamic_objects">2.10. Static vs. Dynamic Objects</a></li>
<li><a href="#_object_names">2.11. Object Names</a></li>
<li><a href="#_requesting_object_names">2.12. Requesting Object Names</a></li>
<li><a href="#_releasing_object_names">2.13. Releasing Object Names</a></li>
<li><a href="#_validating_an_object_name">2.14. Validating an Object Name</a></li>
<li><a href="#_setting_object_attributes">2.15. Setting Object Attributes</a></li>
<li><a href="#_querying_object_attributes">2.16. Querying Object Attributes</a></li>
<li><a href="#_object_attributes">2.17. Object Attributes</a></li>
</ul>
</li>
<li><a href="#_state_and_state_requests">3. State and State Requests</a>
<ul class="sectlevel2">
<li><a href="#_querying_openal_state">3.1. Querying OpenAL State</a></li>
<li><a href="#_time_and_frequency">3.2. Time and Frequency</a></li>
<li><a href="#_space_and_distance">3.3. Space and Distance</a></li>
<li><a href="#_attenuation_by_distance">3.4. Attenuation By Distance</a></li>
<li><a href="#_evaluation_of_gainattenuation_related_state">3.5. Evaluation of Gain/Attenuation Related State</a></li>
</ul>
</li>
<li><a href="#_listener_and_sources">4. Listener and Sources</a>
<ul class="sectlevel2">
<li><a href="#_basic_listener_and_source_attributes">4.1. Basic Listener and Source Attributes</a></li>
<li><a href="#_listener_object">4.2. Listener Object</a></li>
<li><a href="#_source_objects">4.3. Source Objects</a></li>
</ul>
</li>
<li><a href="#_buffers">5. Buffers</a>
<ul class="sectlevel2">
<li><a href="#_buffer_states">5.1. Buffer States</a></li>
<li><a href="#_managing_buffer_names">5.2. Managing Buffer Names</a></li>
<li><a href="#_manipulating_buffer_attributes">5.3. Manipulating Buffer Attributes</a></li>
</ul>
</li>
<li><a href="#_al_contexts_and_the_alc_api">6. AL Contexts and the ALC API</a>
<ul class="sectlevel2">
<li><a href="#_managing_devices">6.1. Managing Devices</a></li>
<li><a href="#_managing_rendering_contexts">6.2. Managing Rendering Contexts</a></li>
<li><a href="#_alc_queries">6.3. ALC Queries</a></li>
<li><a href="#_shared_objects">6.4. Shared Objects</a></li>
</ul>
</li>
<li><a href="#_appendix_extensions">7. Appendix: Extensions</a>
<ul class="sectlevel2">
<li><a href="#_extension_query">7.1. Extension Query</a></li>
<li><a href="#_retrieving_function_entry_addresses">7.2. Retrieving Function Entry Addresses</a></li>
<li><a href="#_retrieving_enumeration_values_2">7.3. Retrieving Enumeration Values</a></li>
</ul>
</li>
<li><a href="#_appendix_extension_process">8. Appendix: Extension Process</a></li>
<li><a href="#_appendix_1_0_compatible_extensions">9. Appendix: 1.0-Compatible Extensions</a>
<ul class="sectlevel2">
<li><a href="#_alc_ext_capture">9.1. <code>ALC_EXT_CAPTURE</code></a></li>
<li><a href="#_al_ext_offset">9.2. <code>AL_EXT_OFFSET</code></a></li>
<li><a href="#_al_ext_linear_distance">9.3. <code>AL_EXT_LINEAR_DISTANCE</code></a></li>
<li><a href="#_al_ext_exponent_distance">9.4. <code>AL_EXT_EXPONENT_DISTANCE</code></a></li>
<li><a href="#_alc_enumeration_ext">9.5. <code>ALC_ENUMERATION_EXT</code></a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_specification_and_reference">Specification and Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the OpenAL 1.1 Specification and Reference. This document is based upon the older OpenAL Specification and Reference (1.0), published in June 2000. Both copyright notices are presented below.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Version 1.1<br>
Published June 2005<br>
Copyright &#169; 2005 by authors</p>
</div>
<div class="paragraph">
<p>Version 1.0 Draft Edition<br>
Published June 2000<br>
Copyright &#169; 1999-2000 by Loki Software</p>
</div>
<div class="paragraph">
<p>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.</p>
</div>
<div class="paragraph">
<p>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions, except that this permission notice may be stated in a translation approved by the copyright owners.</p>
</div>
</div>
</div>
<div class="ulist circle">
<ul class="circle">
<li>
<p>BeOS is a trademark of PalmSource, Inc.</p>
</li>
<li>
<p>Linux is a trademark of Linus Torvalds.</p>
</li>
<li>
<p>Macintosh and Apple are trademarks of Apple Computer, Inc.</p>
</li>
<li>
<p>OpenAL is a trademark of Creative Labs, Inc.</p>
</li>
<li>
<p>OpenGL is a trademark of Silicon Graphics, Inc.</p>
</li>
<li>
<p>UNIX is a trademark of X/Open Group.</p>
</li>
<li>
<p>Windows is a trademark of Microsoft Corp.</p>
</li>
<li>
<p>X Window System is a trademark of X Consortium, Inc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All other trademarks are property of their respective owners.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_revision_history_1_1_document">1.1. Revision History, 1.1 Document</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Revision 1.0 | January 2005 | Garin Hiebert</dt>
<dd>
<p>First draft of new specification, submitted to 1.1 list for review.</p>
</dd>
<dt class="hdlist1">Revision 1.1 | February 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Ryan Gordon.</p>
</dd>
<dt class="hdlist1">Revision 1.2 | February 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Ryan Gordon, Daniel Peacock, and Carlo Vogelsang.</p>
</dd>
<dt class="hdlist1">Revision 1.3 | February 2005 | Garin Hiebert</dt>
<dd>
<p>New set of revisions before public release of draft.</p>
</dd>
<dt class="hdlist1">Revision 1.4 | February 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Andrew McDonald, Ryan Gordon, Joe Tennies, and Joseph Valenzuela.</p>
</dd>
<dt class="hdlist1">Revision 1.5 | March 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from many openal-devel list members.</p>
</dd>
<dt class="hdlist1">Revision 1.6 | March 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from many openal-devel list members.</p>
</dd>
<dt class="hdlist1">Revision 1.7 | April 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from many openal-devel list members.</p>
</dd>
<dt class="hdlist1">Revision 1.8 | April 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from many openal-devel list members.</p>
</dd>
<dt class="hdlist1">Revision 1.9 | April 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Jean-Marc Jot, Daniel Peacock, and Jean-Michel Trivi.</p>
</dd>
<dt class="hdlist1">Revision 2.0 | May 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from many openal-devel list members.</p>
</dd>
<dt class="hdlist1">Revision 2.1 | May 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Bob Aron, Alexandre Mah, and Carlo Vogelsang.</p>
</dd>
<dt class="hdlist1">Revision 2.2 | May 2005 | Garin Hiebert</dt>
<dd>
<p>Added <code>AL_SOURCE_TYPE</code> attribute and description.</p>
</dd>
<dt class="hdlist1">Revision 2.3 | June 2005 | Garin Hiebert</dt>
<dd>
<p>Added feedback from Alexandre Mah and Daniel Peacock.</p>
</dd>
<dt class="hdlist1">Revision 2.4 | June 2005 | Garin Hiebert</dt>
<dd>
<p>Removed "Draft" designation.</p>
</dd>
<dt class="hdlist1">Revision 2.5 | July 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Sven Panne, and made minor corrections to the content and formatting.</p>
</dd>
<dt class="hdlist1">Revision 2.6 | August 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Stephen Baker and Sven Panne.</p>
</dd>
<dt class="hdlist1">Revision 2.7 | October 2005 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Bob Aron, Sven Panne, and Eric Wing.</p>
</dd>
<dt class="hdlist1">Revision 2.8 | June 2006 | Garin Hiebert</dt>
<dd>
<p>Incorporated feedback from Bob Aron, Nathan Charles, Sven Panne, and made minor corrections to the content and formatting.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_a_brief_history_of_openal">1.2. A Brief History of OpenAL</h3>
<div class="paragraph">
<p>The first discussions about implementing OpenAL as an audio API complementary to OpenGL started around 1998. There were a few aborted attempts at creating the headers and a specification, but by late 1999 Loki Entertainment Software was in need for an API of exactly this type and pursued both a specification and a Linux implementation. At around that time, Loki started talking with Creative Labs about standardizing the API and expanding platform support. The OpenAL 1.0 specification was released in early 2000 and compliant OpenAL libraries were released in the same year for Linux, MacOS 8/9, Windows, and BeOS. Loki Entertainment also shipped several games using OpenAL in 2000 - Heavy Gear 2 and Heretic 2 (both under Linux). In 2001, Creative Labs released the first hardware-accelerated OpenAL libraries. The libraries supported the SoundBlaster Live on MacOS 8/9 and Windows.</p>
</div>
<div class="paragraph">
<p>Since 2001, there has been continuous improvement in OpenAL. Some platforms are less relevant than in 2000 (BeOS and MacOS 8/9 for instance), but more platforms have been added as well (BSD, Solaris, IRIX, Mac OS X, and the popular console gaming platforms). Hardware support is enabled for many Creative and NVIDIA audio devices under Windows as well.</p>
</div>
<div class="paragraph">
<p>In terms of product support, OpenAL has been used in a large number of titles over the years, on many platforms (for a list of many of the titles, see <a href="https://www.openal.org/titles.html" class="bare">https://www.openal.org/titles.html</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_is_the_openal_audio_system">1.3. What Is the OpenAL Audio System?</h3>
<div class="paragraph">
<p>OpenAL (for <em>Open Audio Library</em>) is a software interface to audio hardware. The interface consists of a number of functions that allow a programmer to specify the objects and operations in producing high-quality audio output, specifically multichannel output of 3D arrangements of sound sources around a listener.</p>
</div>
<div class="paragraph">
<p>The OpenAL API is designed to be cross-platform and easy to use. It resembles the OpenGL API in coding style and conventions. OpenAL uses a syntax resembling that of OpenGL where applicable.</p>
</div>
<div class="paragraph">
<p>OpenAL is foremost a means to generate audio in a simulated three-dimensional space. Consequently, legacy audio concepts such as panning and left/right channels are not directly supported. OpenAL does include extensions compatible with the IA-SIG 3D Level 1 and Level 2 rendering guidelines to handle sound-source directivity and distance-related attenuation and Doppler effects, as well as environmental effects such as reflection, obstruction, transmission, and reverberation.</p>
</div>
<div class="paragraph">
<p>Like OpenGL, the OpenAL core API has no notion of an explicit rendering context, and operates on an implied current OpenAL Context. Unlike the OpenGL specification the OpenAL specification includes both the core API (the actual OpenAL API) and the 8 operating system bindings of the ALC API (the <em>Audio Library Context</em>). Unlike OpenGL&#8217;s GLX, WGL and other OS-specific bindings, the ALC API is portable across platforms as well.</p>
</div>
</div>
<div class="sect2">
<h3 id="_differences_between_openal_1_1_and_openal_1_0">1.4. Differences Between OpenAL 1.1 and OpenAL 1.0</h3>
<div class="sect3">
<h4 id="_recording_api">1.4.1. Recording API</h4>
<div class="paragraph">
<p>OpenAL 1.1 implementations support recording as specified in sections <a href="#_capture">Capture</a> and <a href="#_alc_ext_capture"><code>ALC_EXT_CAPTURE</code></a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_getset_offset">1.4.2. Get/Set Offset</h4>
<div class="paragraph">
<p>OpenAL 1.1 implementations support offset operations as specified in sections <a href="#_source_attributes">Source Attributes</a> and <a href="#_al_ext_offset"><code>AL_EXT_OFFSET</code></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_linear_distance_models">1.4.3. Linear Distance Models</h4>
<div class="paragraph">
<p>OpenAL 1.1 implementations will support two new linear distance models as specified in sections <a href="#_linear_distance_rolloff_model">Linear Distance Rolloff Model</a> and <a href="#_al_ext_linear_distance"><code>AL_EXT_LINEAR_DISTANCE</code></a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_exponential_distance_models">1.4.4. Exponential Distance Models</h4>
<div class="paragraph">
<p>OpenAL 1.1 implementations will support two new exponential distance models as specified in sections <a href="#_exponential_distance_rolloff_model">Exponential Distance Rolloff Model</a> and <a href="#_al_ext_exponent_distance"><code>AL_EXT_EXPONENT_DISTANCE</code></a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_doppler">1.4.5. Doppler</h4>
<div class="paragraph">
<p>Doppler behavior has been standardized for OpenAL 1.1, as documented in section <a href="#_velocity_dependent_doppler_effect">Velocity Dependent Doppler Effect</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_monostereo_hints">1.4.6. Mono/Stereo Hints</h4>
<div class="paragraph">
<p>Hints can now be provided at context-creation time to indicate the number of mono or stereo sources desired for that context, as documented in section <a href="#_context_attributes">Context Attributes</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_standard_extensions_listings">1.4.7. Standard Extensions Listings</h4>
<div class="paragraph">
<p>Extension listing behavior has been standardized for OpenAL 1.1, as documented in section <a href="#_query_for_extensions">Query For Extensions</a>. Also, extension names passed to <code>alIsExtensionPresent</code> or <code>alcIsExtensionPresent</code> are no longer case sensitive. Internally to the implementation, the names will be maintained as all upper-case, and when names are expressed by the implementation they will be expressed as all upper-case.</p>
</div>
</div>
<div class="sect3">
<h4 id="_standard_suspendprocess_behavior">1.4.8. Standard Suspend/Process Behavior</h4>
<div class="paragraph">
<p>Context suspend/process behavior has been clarified in section <a href="#_suspend_context_processing">Suspend Context Processing</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_alut_revisions">1.4.9. ALUT Revisions</h4>
<div class="paragraph">
<p>The old ALUT functions will continue to be supported on platforms where they were traditionally included within the OpenAL library (non-Windows platforms), but a new standalone library will be developed under a separate specification. Everyone will be encouraged to use the new library.</p>
</div>
</div>
<div class="sect3">
<h4 id="_streaming_clarifications">1.4.10. Streaming Clarifications</h4>
<div class="paragraph">
<p>Streaming using OpenAL&#8217;s queuing mechanism has been clarified in section <a href="#_queuing_buffers_with_a_source">Queuing Buffers with a Source</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_error_codes">1.4.11. Error Codes</h4>
<div class="paragraph">
<p>Error codes are specified in many cases where the old specification was vague.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pitch_shifting_limits">1.4.12. Pitch Shifting Limits</h4>
<div class="paragraph">
<p>The pitch shifting limits for OpenAL 1.1 have changed as specified in section <a href="#_source_attributes">Source Attributes</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_alchar_and_alcchar_types">1.4.13. New <code>ALchar</code> and <code>ALCchar</code> types</h4>
<div class="paragraph">
<p>New <code>ALchar</code> and <code>ALCchar</code> types have been added, affecting the following functions: <code>alGetString</code>, <code>alIsExtensionPresent</code>, <code>alGetProcAddress</code>, <code>alGetEnumValue</code>, <code>alcOpenDevice</code>, <code>alcIsExtensionPresent</code>, <code>alcGetProcAddress</code>, <code>alcGetEnumValue</code>, and <code>alcGetString</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_alcclosedevice_return_value">1.4.14. <code>alcCloseDevice</code> Return Value</h4>
<div class="paragraph">
<p><code>alcCloseDevice</code> now returns <code>ALCboolean</code> to indicate success or failure.</p>
</div>
</div>
<div class="sect3">
<h4 id="_versioning_changes">1.4.15. Versioning Changes</h4>
<div class="paragraph">
<p>Clearer definitions of the <code>AL_VERSION</code>, <code>AL_RENDERER</code>, and <code>AL_VENDOR</code> string queries are defined.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_programmers_view_of_openal">1.5. Programmer&#8217;s View of OpenAL</h3>
<div class="paragraph">
<p>To the programmer, OpenAL is a set of commands that allow the specification of sound sources and a listener in three dimensions, combined with commands that control how these sound sources are rendered into the output buffer. The effect of OpenAL commands is not guaranteed to be immediate, as there are latencies depending on the implementation, but ideally such latency should not be noticeable to the user.</p>
</div>
<div class="paragraph">
<p>A typical program that uses OpenAL begins with calls to open a sound device which is used to process output and play it on attached hardware (speakers or headphones). Then, calls are made to allocate an AL context and associate it with the device. Once an AL context is allocated, the programmer is free to issue AL commands. Some calls are used to render sources (point and directional sources, looping or not), while others affect the rendering of these sources including how they are attenuated by distance and relative orientation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_implementors_view_of_openal">1.6. Implementor&#8217;s View of OpenAL</h3>
<div class="paragraph">
<p>To the implementor, OpenAL is a set of commands that affect the operation of CPU and sound hardware. If the hardware consists only of an addressable output buffer, then OpenAL must be implemented almost entirely on the host CPU. In some cases audio hardware provides DSP-based and other acceleration in various degrees. The OpenAL implementor&#8217;s task is to provide the CPU software interface while dividing the work for each AL command between the CPU and the audio hardware. This division should be tailored to the available audio hardware to obtain optimum performance in carrying out AL calls.</p>
</div>
<div class="paragraph">
<p>OpenAL maintains a considerable amount of state information. This state controls how the sources are rendered into the output buffer. Some of this state is directly available to the user: he or she can make calls to obtain its value. Some of it, however, is visible only by the effect it has on what is rendered. One of the main goals of this specification is to make OpenAL state information explicit, to elucidate how it changes, and to indicate what its effects are.</p>
</div>
</div>
<div class="sect2">
<h3 id="_our_view">1.7. Our View</h3>
<div class="paragraph">
<p>We view OpenAL as a state machine that controls a multichannel processing system to synthesize a digital stream, passing sample data through a chain of parametrized digital audio signal processing operations. This model should engender a specification that satisfies the needs of both programmers and implementors. It does not, however, necessarily provide a model for implementation. Any proper implementation must produce results conforming to those produced by the specified methods, but there may be ways to carry out a particular computation that are more efficient than the one specified.</p>
</div>
</div>
<div class="sect2">
<h3 id="_requirements_conformance_and_extensions">1.8. Requirements, Conformance and Extensions</h3>
<div class="paragraph">
<p>The specification has to guarantee a minimum number of resources. However, implementations are encouraged to compete on performance, available resources, and output quality.</p>
</div>
<div class="paragraph">
<p>There is a set of conformance tests available along with the open source sample implementation. Vendors and individuals are encouraged to specify and implement extensions to OpenAL. Successful extensions will become part of the core specification as necessary and desirable. OpenAL implementations have to guarantee backwards compatibility and ABI compatibility for minor revisions.</p>
</div>
<div class="paragraph">
<p>The current sample implementation and documentation for OpenAL can be obtained from <a href="https://www.openal.org/" class="bare">https://www.openal.org/</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_architecture_review_and_acknowledgments">1.9. Architecture Review and Acknowledgments</h3>
<div class="paragraph">
<p>Like OpenGL, OpenAL is meant to evolve through a joined effort of implementors and application programmers meeting in regular sessions of an Architecture Review Board (ARB). As of this time an ARB has not yet been set up.</p>
</div>
<div class="paragraph">
<p>Consequently OpenAL has been a long-term informal cooperative effort. The following list (in all likelihood incomplete) gives in alphabetical order participants in the discussion and contributors to the specification processes and related efforts:</p>
</div>
<div class="paragraph">
<p>Bob Aron, Juan Carlos Arevalo Baeza, Jonathan Blow, Nathan Charles, Keith Charley, Scott Draeker, Ryan Gordon, John Grantham, Jacob Hawley, Garin Hiebert, Carlos Hasan, Nathan Hill, Stephen Holmes, Bill Huey, Mike Jarosh, Jean-Marc Jot, Maxim Kizub, John Kraft, Bernd Kreimeier, Eric Lengyel, Alexandre Mah, Andrew McDonald, Adam Moss, Ian Ollmann, Rick Overman, Sean L. Palmer, Sven Panne, Daniel Peacock, Pierre Phaneuf, Terry Sikes, Joe Tennies, Jean-Michel Trivi, Joseph Valenzuela, Michael Vance, Carlo Vogelsang</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_openal_operation">2. OpenAL Operation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_openal_fundamentals">2.1. OpenAL Fundamentals</h3>
<div class="paragraph">
<p>OpenAL is concerned with rendering audio into an output buffer and collecting audio data from input buffers. OpenAL&#8217;s primary use is assumed to be for spatialized sample- based audio. There is no support for MIDI.</p>
</div>
<div class="paragraph">
<p>OpenAL has three fundamental primitives or objects: buffers, sources, and a single listener. Each object can be changed independently; the setting of one object does not affect the setting of others. The application can also set modes that affect processing. Modes are set, objects specified, and other OpenAL operations performed by sending commands in the form of function or procedure calls.</p>
</div>
<div class="paragraph">
<p>Sources store locations, directions, and other attributes of an object in 3D space and have a buffer associated with them for playback. When the program wants to play a sound, it controls execution through a source object. Sources are processed independently from each other.</p>
</div>
<div class="paragraph">
<p>Buffers store compressed or uncompressed audio data. It is common to initialize a large set of buffers when the program first starts (or at non-critical times during execution&#8201;&#8212;&#8201;between levels in a game, for instance). Buffers are referred to by sources. Data (audio sample data) is associated with buffers.</p>
</div>
<div class="paragraph">
<p>There is only one listener (per audio context). The listener attributes are similar to source attributes, but are used to represent where the user is hearing the audio from. All the sources are rendered (mixed and played) relative to the listener.</p>
</div>
</div>
<div class="sect2">
<h3 id="_primitive_types">2.2. Primitive Types</h3>
<div class="paragraph">
<p>The OpenAL library primitive (scalar) data types mimic the OpenGL data types, allowing seamless integration with OpenGL code. Guaranteed minimum sizes are stated for OpenGL data types, but the actual choice of C data type is left to the implementation. All implementations on a given binary architecture, however, must use a common definition of these data types.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 1. AL Primitive Data Types</caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>AL Type</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Description</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>GL Type</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALboolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLboolean</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALchar</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">character</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLchar</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALbyte</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">signed 8-bit 2&#8217;s-complement integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLbyte</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALubyte</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned 8-bit integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLubyte</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALshort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">signed 16-bit 2&#8217;s-complement integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLshort</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALushort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned 16-bit integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLushort</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALint</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">signed 32-bit 2&#8217;s-complement integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLint</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALuint</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsigned 32-bit integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLuint</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALsizei</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">non-negative 32-bit binary integer size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLsizei</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALenum</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enumerated 32-bit value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLenum</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALfloat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit IEEE 754 floating-point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLfloat</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALdouble</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit IEEE 754 floating-point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GLdouble</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_floating_point_computation">2.3. Floating-Point Computation</h3>
<div class="paragraph">
<p>Any representable floating-point value is legal as input to an OpenAL command that requires floating point data. The result of providing a value that is not a floating point number to such a command is unspecified, but must not lead to OpenAL being interrupted or terminated. In IEEE arithmetic, for example, providing a negative zero or a denormalized number to an OpenAL command yields predictable results, while providing a NaN or infinity yields unspecified results.</p>
</div>
<div class="paragraph">
<p>Some calculations require division. In such cases (including implied divisions required by vector normalizations), a division by zero produces an unspecified result but must not lead to OpenAL interruption or termination.</p>
</div>
</div>
<div class="sect2">
<h3 id="_al_state">2.4. AL State</h3>
<div class="paragraph">
<p>OpenAL maintains considerable state. This document enumerates each state variable and describes how each variable can be changed. For purposes of discussion, state variables are categorized somewhat arbitrarily by their function. For example, although we describe operations that OpenAL performs on the implied output buffer, the output buffer is not part of the OpenAL&#8217;s state. Certain states of OpenAL objects (e.g. buffer states with respect to queuing) are introduced for discussion purposes, but not exposed through the API.</p>
</div>
</div>
<div class="sect2">
<h3 id="_al_command_syntax">2.5. AL Command Syntax</h3>
<div class="paragraph">
<p>OpenAL&#8217;s commands are functions or procedures. Various groups of commands perform the same operation but differ in how arguments are supplied to them. To conveniently accommodate this variation, we adopt the OpenGL notation for describing commands and their arguments.</p>
</div>
</div>
<div class="sect2">
<h3 id="_basic_al_operation">2.6. Basic AL Operation</h3>
<div class="paragraph">
<p>OpenAL can be used for a variety of audio playback tasks, and is an excellent complement to OpenGL for real-time rendering. A programmer who is familiar with OpenGL will immediately notice the similarities between the two APIs in that they describe their 3D environments using similar methods.</p>
</div>
<div class="paragraph">
<p>For an OpenGL/OpenAL program, most of the audio programming will be in two places in the code: initialization of the program, and the rendering loop. An OpenGL/OpenAL program will typically contain a section where the graphics and audio systems are initialized, although it may be spread into multiple functions. For OpenAL, initialization normally consists of creating a context, creating the initial set of buffers, loading the buffers with sample data, creating sources, attaching buffers to sources, setting locations and directions for the listener and sources, and setting the initial values for state global to OpenAL.</p>
</div>
<div class="listingblock">
<div class="title">Initialization Example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="c1">// Initialize Open AL</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">alcOpenDevice</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span> <span class="c1">// open default device</span>
<span class="k">if</span> <span class="p">(</span><span class="n">device</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">context</span> <span class="o">=</span> <span class="n">alcCreateContext</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span> <span class="c1">// create context</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">context</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">alcMakeContextCurrent</span><span class="p">(</span><span class="n">context</span><span class="p">);</span> <span class="c1">// set active context</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The audio update within the rendering loop normally consists of telling OpenAL the current locations of the sources and listener, updating the environment settings, and managing buffers.</p>
</div>
<div class="listingblock">
<div class="title">Processing Loop Example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="c1">// PlaceCamera - places OpenGL camera &amp; updates OpenAL listener data</span>
<span class="kt">void</span> <span class="n">AVEnvironment</span><span class="o">::</span><span class="n">PlaceCamera</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">// update OpenGL camera position</span>
	<span class="n">glMatrixMode</span><span class="p">(</span><span class="n">GL_PROJECTION</span><span class="p">);</span>
	<span class="n">glLoadIdentity</span><span class="p">();</span>
	<span class="n">glFrustum</span><span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">1333</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1333</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
	<span class="n">gluLookAt</span><span class="p">(</span><span class="n">listenerPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">listenerPos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">listenerPos</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
	<span class="p">(</span><span class="n">listenerPos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">listenerAngle</span><span class="p">)),</span> <span class="n">listenerPos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
	<span class="p">(</span><span class="n">listenerPos</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">cos</span><span class="p">(</span><span class="n">listenerAngle</span><span class="p">)),</span>
	<span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
	<span class="c1">// update OpenAL</span>
	<span class="c1">// place listener at camera</span>
	<span class="n">alListener3f</span><span class="p">(</span><span class="n">AL_POSITION</span><span class="p">,</span> <span class="n">listenerPos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">listenerPos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">listenerPos</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
	<span class="kt">float</span> <span class="n">directionvect</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">directionvect</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">sin</span><span class="p">(</span><span class="n">listenerAngle</span><span class="p">);</span>
	<span class="n">directionvect</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">directionvect</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">cos</span><span class="p">(</span><span class="n">listenerAngle</span><span class="p">);</span>
	<span class="n">directionvect</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">directionvect</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">directionvect</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">alListenerfv</span><span class="p">(</span><span class="n">AL_ORIENTATION</span><span class="p">,</span> <span class="n">directionvect</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_al_errors">2.7. AL Errors</h3>
<div class="paragraph">
<p>OpenAL detects only a subset of those conditions that could be considered errors. This is because in many cases error checking would adversely impact the performance of an error-free program. The command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALenum</span> <span class="nf">alGetError</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>is used to obtain error information. Each detectable error is assigned a numeric code. When an error is detected by AL, a flag is set and the error code is recorded. Further errors, if they occur, do not affect this recorded code. When <code>alGetError</code> is called, the code is returned and the flag is cleared, so that a further error will again record its code. If a call to <code>alGetError</code> returns <code>AL_NO_ERROR</code> then there has been no detectable error since the last call to <code>alGetError</code> (or since the AL was initialized). Error codes can be mapped to strings. The <code>alGetString</code> function returns a pointer to a constant (literal) string that is identical to the identifier used for the enumeration value, as defined in the specification.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 2. Error Conditions</caption>
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Description</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_NO_ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">There is no current error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_INVALID_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid name parameter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_INVALID_ENUM</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid parameter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_INVALID_VALUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid enum parameter value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_INVALID_OPERATION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Illegal call.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_OUT_OF_MEMORY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unable to allocate memory.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The table above summarizes the AL errors. When an error flag is set, results of AL operations are undefined only if <code>AL_OUT_OF_MEMORY</code> has occurred. In other cases, the command generating the error is ignored so that it has no effect on AL state or output buffer contents. If the error generating command returns a value, it returns zero. If the generating command modifies values through a pointer argument, no change is made to these values. These error semantics apply only to AL errors, not to system errors such as memory access errors.</p>
</div>
<div class="paragraph">
<p>Several error generation conditions are implicit in the description of the various AL commands. First, if a command that requires an enumerated value is passed a value that is not one of those specified as allowable for that command, the error <code>AL_INVALID_ENUM</code> results. This is the case even if the argument is a pointer to a symbolic constant if that value is not allowable for the given command. This will occur whether the value is allowable for other functions, or an invalid integer value.</p>
</div>
<div class="paragraph">
<p>Integer parameters that are used as names for OpenAL objects such as buffers and sources are checked for validity. If an invalid name parameter is specified in an OpenAL command, an <code>AL_INVALID_NAME</code> error will be generated and the command is ignored.</p>
</div>
<div class="paragraph">
<p>An attempt to set integral or floating point values out of the specified range will result in the error <code>AL_INVALID_VALUE</code>. The specification does not guarantee that the implementation emits <code>AL_INVALID_VALUE</code> if a NaN or infinity value is passed in for a float or double argument (as the specification does not enforce possibly expensive testing of floating point values).</p>
</div>
<div class="paragraph">
<p>Commands can be invalid. For example, certain commands might not be applicable to a given object. There are also illegal combinations of tokens and values as arguments to a command. OpenAL responds to any such illegal command with an <code>AL_INVALID_OPERATION</code> error.</p>
</div>
<div class="paragraph">
<p>If memory is exhausted as a side effect of the execution of an AL command, either on system level or by exhausting the allocated resources at AL&#8217;s internal disposal, the error <code>AL_OUT_OF_MEMORY</code> may be generated. This can also happen independent of recent commands if OpenAL has to request memory for an internal task and fails to allocate the required memory from the operating system.</p>
</div>
<div class="paragraph">
<p>Otherwise errors are generated only for conditions that are explicitly described in this specification.</p>
</div>
</div>
<div class="sect2">
<h3 id="_controlling_al_execution">2.8. Controlling AL Execution</h3>
<div class="paragraph">
<p>The application can temporarily disable certain AL capabilities on a per-Context basis. This allows the driver implementation to optimize for certain subsets of operations. Enabling and disabling capabilities is handled using a function pair.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alEnable</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">target</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alDisable</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">target</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The application can also query whether a given capability is currently enabled or not.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALboolean</span> <span class="nf">alIsEnabled</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">target</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the token used to specify target is not legal, an <code>AL_INVALID_ENUM</code> error will be generated.</p>
</div>
</div>
<div class="sect2">
<h3 id="_object_paradigm">2.9. Object Paradigm</h3>
<div class="paragraph">
<p>OpenAL is an object-oriented API, but it does not expose classes, structs, or other explicit data structures to the application.</p>
</div>
<div class="sect3">
<h4 id="_object_categories">2.9.1. Object Categories</h4>
<div class="paragraph">
<p>OpenAL has three primary categories of objects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>one unique listener per context</p>
</li>
<li>
<p>multiple buffers shared among all contexts (for one device)</p>
</li>
<li>
<p>multiple sources, each local to a context</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_static_vs_dynamic_objects">2.10. Static vs. Dynamic Objects</h3>
<div class="paragraph">
<p>The vast majority of OpenAL objects are dynamic, and will be created on application demand. There are also OpenAL objects that do not have to be created, and can not be created, on application demand. Currently, the listener is the only such static object in OpenAL.</p>
</div>
</div>
<div class="sect2">
<h3 id="_object_names">2.11. Object Names</h3>
<div class="paragraph">
<p>Dynamic objects are manipulated using an integer, which in analogy to OpenGL is referred to as the object&#8217;s <em>name</em>. These are of type unsigned integer (<code>ALuint</code>). Names can be valid beyond the lifetime of the context they were requested if the objects in question can be shared among contexts. No guarantees or assumptions are made in the specification about the precise values or their distribution over the lifetime of the application. As objects might be shared, names are guaranteed to be unique within a class of OpenAL objects, but no guarantees are made across different classes of objects. Objects that are unique (singletons), like the listener, do not require and do not have an integer <em>name</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_requesting_object_names">2.12. Requesting Object Names</h3>
<div class="paragraph">
<p>OpenAL provides calls to obtain object names. The application requests a number of objects of a given category using <code>alGen{Object}s</code>. The actual values of the names returned are implementation dependent. No guarantees on range or value are made.</p>
</div>
<div class="paragraph">
<p>Allocation of object names does not imply immediate allocation of resources or creation of objects: the implementation is free to defer this until a given object is actually used in mutator calls. The names are written at the memory location specified by the caller.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alGenBuffers</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">bufferNames</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alGenSources</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">sourceNames</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Requesting zero names is a legal NOP. OpenAL will respond with an <code>AL_INVALID_VALUE</code> error if the implementation knows that it can not store n names in the given array or if the implementation knows that it can not generate the requested number of objects due to non-memory resource restrictions. OpenAL will respond with an <code>AL_OUT_OF_MEMORY</code> error if it can not allocate the objects due to lack of available memory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_releasing_object_names">2.13. Releasing Object Names</h3>
<div class="paragraph">
<p>OpenAL releases object names using <code>alDelete{Object}s</code>, implicitly requesting deletion of the objects associated with the names released. If one or more of the specified names is not valid, an <code>AL_INVALID_NAME</code> error will be recorded, and no objects will be deleted.</p>
</div>
<div class="paragraph">
<p>Once deleted, the names are no longer valid for use with any OpenAL function calls including calls to <code>alDeleteBuffers</code> or <code>alDeleteSources</code>. Any such use will cause an <code>AL_INVALID_NAME</code> error.</p>
</div>
<div class="paragraph">
<p>The OpenAL implementation is free to defer actual release of resources. Ideally, resources should be released as soon as possible, but no guarantees are made.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alDeleteBuffers</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">bufferName</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alDeleteSources</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">sourceName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A playing source can be deleted - the source will be stopped automatically and then deleted. A buffer which is attached to a source can not be deleted.</p>
</div>
</div>
<div class="sect2">
<h3 id="_validating_an_object_name">2.14. Validating an Object Name</h3>
<div class="paragraph">
<p>OpenAL provides calls to validate the name of an object. The application can verify whether an object name is valid using the <code>alIs{Object}</code> query. It returns <code>AL_TRUE</code> if the name passed to it is a valid object name, and <code>AL_FALSE</code> otherwise. <code>alIs{Object}</code> does not distinguish between invalid and deleted names.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALboolean</span> <span class="nf">alIsBuffer</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">bufferName</span><span class="p">);</span>
<span class="n">ALboolean</span> <span class="nf">alIsSource</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_object_attributes">2.15. Setting Object Attributes</h3>
<div class="paragraph">
<p>Calls are provided to control the atrributes of OpenAL objects. These depend on the
actual properties of a given object category. The precise API for each category is
discussed below. An OpenAL command affecting the state of a named object is usually of
the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">al</span><span class="p">{</span><span class="n">Object</span><span class="p">}{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}{</span><span class="n">v</span><span class="p">}(</span><span class="n">ALuint</span> <span class="n">objectName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span> <span class="n">values</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>{Object}</code> is the name of an OpenAL object - a <code>Buffer</code> or <code>Listener</code> for example.<br>
<code>{n}</code> indicates the number of values to be passed in (if one, the value is omitted)<br>
<code>{if}</code> indicates the type of the value to be passed in, <code>i</code> for integer, <code>f</code> for float.<br>
<code>{v}</code> indicates that a vector of the given type will be passed in.<br>
<code>T</code> is of the type indicated in the <code>{if}</code> and <code>{v}</code> fields.</p>
</div>
<div class="paragraph">
<p>The <code>objectName</code> parameter specifies the OpenAL object affected by this call. Use of an invalid name will cause an <code>AL_INVALID_NAME</code> error.</p>
</div>
<div class="paragraph">
<p>The object&#8217;s attribute to be affected has to be named as <code>paramName</code>. OpenAL parameters applicable to one category of objects are not necessarily legal for another category of OpenAL objects. Specification of a parameter illegal for a given object will cause an <code>AL_INVALID_OPERATION</code> error.</p>
</div>
<div class="paragraph">
<p>Not all possible values for a type will be legal for a given <code>objectName</code> and <code>parameterName</code>. Use of an illegal value or a <code>NULL</code> value pointer will cause an <code>AL_INVALID_VALUE</code> error.</p>
</div>
<div class="paragraph">
<p>Any command that causes an error is a NOP.</p>
</div>
<div class="paragraph">
<p>In the case of unnamed (unique) objects, the (integer) <code>objectName</code> is omitted, as it is implied by the <code>{Object}</code> part of function name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">al</span><span class="p">{</span><span class="n">Object</span><span class="p">}{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}{</span><span class="n">v</span><span class="p">}(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span> <span class="n">values</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here are some example OpenAL commands using the format rules above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alListeneri</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">param</span><span class="p">,</span> <span class="n">ALint</span> <span class="n">value</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alListener3f</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">param</span><span class="p">,</span> <span class="n">ALfloat</span> <span class="n">value1</span><span class="p">,</span> <span class="n">ALfloat</span> <span class="n">value2</span><span class="p">,</span> <span class="n">ALfloat</span> <span class="n">value3</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alListenerfv</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">param</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALfloat</span><span class="o">*</span> <span class="n">values</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alSourcef</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sid</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">param</span><span class="p">,</span> <span class="n">ALfloat</span> <span class="n">value</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_querying_object_attributes">2.16. Querying Object Attributes</h3>
<div class="paragraph">
<p>Calls to query their current attributes are provided for named and for unique OpenAL objects. These depend on the actual properties of a given object category. The performance of such queries is implementation dependent, no performance guarantees are made. The valid values for the parameter paramName are identical to the ones legal for the corresponding attribute setting function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">alGet</span><span class="p">{</span><span class="n">Object</span><span class="p">}{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}{</span><span class="n">v</span><span class="p">}(</span><span class="n">ALuint</span> <span class="n">objectName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">destination</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For unnamed unique Objects, the <code>objectName</code> is omitted as it is implied by the function name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">alGet</span><span class="p">{</span><span class="n">Object</span><span class="p">}{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}{</span><span class="n">v</span><span class="p">}(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">destination</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The definitions of <code>{Object}</code>, <code>{n}</code>, <code>{if}</code>, <code>{v}</code> and <code>T</code> are the same as with the set commands.</p>
</div>
<div class="paragraph">
<p>Use of an invalid name will cause an <code>AL_INVALID_NAME</code> error. Specification of an illegal parameter type (token) will cause an <code>AL_INVALID_ENUM</code> error. A call with a destination <code>NULL</code> pointer will be quietly ignored. The OpenAL state and destination memory will not be affected or changed by errors.</p>
</div>
</div>
<div class="sect2">
<h3 id="_object_attributes">2.17. Object Attributes</h3>
<div class="paragraph">
<p>Attributes affecting the processing of sounds can be set for various OpenAL object categories, or might change as an effect of OpenAL calls. The vast majority of these object properties are specific to a single OpenAL object category, but some are applicable to two or more categories and are listed separately.</p>
</div>
<div class="paragraph">
<p>The general form in which this document describes parameters is:</p>
</div>
<div class="sidebarblock">
<div class="content">
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paramName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>T</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Range or set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scalar or n-tuple</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The description specifies additional restrictions and details. <code>paramName</code> is given as the OpenAL enum defined as its name. <code>T</code> can be a list of legal signatures, usually the array form as well as the flat (unfolded) form.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_state_and_state_requests">3. State and State Requests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most state data for OpenAL objects is retrieved or set using <code>alGet{Object}</code> or <code>al{Object}</code> calls. There is some state information that is global to the OpenAL context, such as the current error state, Doppler parameters, and the distance model.</p>
</div>
<div class="sect2">
<h3 id="_querying_openal_state">3.1. Querying OpenAL State</h3>
<div class="sect3">
<h4 id="_simple_queries">3.1.1. Simple Queries</h4>
<div class="paragraph">
<p>Like OpenGL, OpenAL uses a simplified interface for querying global state. The following functions accept a set of enumerations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alGetBooleanv</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">ALboolean</span><span class="o">*</span> <span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alGetIntegerv</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">ALint</span><span class="o">*</span> <span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alGetFloatv</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">ALfloat</span><span class="o">*</span> <span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alGetDoublev</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">ALdouble</span><span class="o">*</span> <span class="n">dest</span><span class="p">);</span>

<span class="n">ALboolean</span> <span class="nf">alGetBoolean</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">);</span>
<span class="n">ALint</span> <span class="nf">alGetInteger</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">);</span>
<span class="n">ALfloat</span> <span class="nf">alGetFloat</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">);</span>
<span class="n">ALdouble</span> <span class="nf">alGetDouble</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Legal values are <code>AL_DOPPLER_FACTOR</code>, <code>AL_SPEED_OF_SOUND</code>, and <code>AL_DISTANCE_MODEL</code>. <code>NULL</code> destinations are quietly ignored. <code>AL_INVALID_ENUM</code> is the response to errors in specifying <code>paramName</code>. The amount of memory required in the destination depends on the actual state requested.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 3. Numerical Query Definitions</caption>
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Description</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_DOPPLER_FACTOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exaggeration factor for Doppler effect</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_SPEED_OF_SOUND</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Speed of sound in same units as velocities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_DISTANCE_MODEL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current distance model</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_string_queries">3.1.2. String Queries</h4>
<div class="paragraph">
<p>The application can retrieve global state information of the current OpenAL context. The <code>alGetString</code> function will return a pointer to a constant string. Valid values for <code>paramName</code> are <code>AL_VERSION</code>, <code>AL_RENDERER</code>, <code>AL_VENDOR</code>, and <code>AL_EXTENSIONS</code>, as well as the error codes defined by OpenAL. If an invalid value for param is used, an <code>AL_INVALID_ENUM</code> error will be set and <code>NULL</code> will be returned.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="k">const</span> <span class="n">ALchar</span><span class="o">*</span> <span class="nf">alGetString</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">);</span></code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 4. String Query Definitions (other than error codes)</caption>
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Description</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_VERSION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version string in format<br>
<code>&lt;spec major number&gt;.&lt;spec minornumber&gt; &lt;optional vendor version information&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_RENDERER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">information about the specific renderer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_VENDOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the vendor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_EXTENSIONS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a list of available extensions separated by spaces</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_time_and_frequency">3.2. Time and Frequency</h3>
<div class="paragraph">
<p>By default, OpenAL uses seconds and Hertz as units for time and frequency, respectively. A float or integral value of one for a variable that specifies quantities like duration, latency, delay, or any other parameter measured as time, specifies 1 second. For frequency, the basic unit is 1 / second, or Hertz. In other words, sample frequencies and frequency cut-offs or filter parameters specifying frequencies are expressed in units of Hertz.</p>
</div>
</div>
<div class="sect2">
<h3 id="_space_and_distance">3.3. Space and Distance</h3>
<div class="paragraph">
<p>OpenAL does not define the units of measurement for distances. The application is free to use its own units, for example, meters, inches, or parsecs. OpenAL provides means for simulating the natural attenuation of sound according to distance, and to exaggerate or reduce this effect. However, the resulting effects do not depend on the distance unit used by the application to express source and listener coordinates. OpenAL calculations are scale invariant.</p>
</div>
<div class="paragraph">
<p>The specification assumes Euclidean calculation of distances, and mandates that if two sources are sorted with respect to the Euclidean metric, the distance calculation used by the implementation has to preserve that order.</p>
</div>
</div>
<div class="sect2">
<h3 id="_attenuation_by_distance">3.4. Attenuation By Distance</h3>
<div class="paragraph">
<p>Samples usually use the entire dynamic range of the chosen format/encoding, independent of their real world intensity. For example, a jet engine and a clockwork both will have samples with full amplitude. The application will then have to adjust source gain accordingly to account for relative differences.</p>
</div>
<div class="paragraph">
<p>Source gain is then attenuated by distance. The effective attenuation of a source depends on many factors, among which distance attenuation and source and listener gain are only some of the contributing factors. Even if the source and listener gain exceed 1.0 (amplification beyond the guaranteed dynamic range), distance and other attenuation might ultimately limit the overall gain to a value below 1.0.</p>
</div>
<div class="paragraph">
<p>OpenAL currently supports three modes of operation with respect to distance attenuation, including one that is similar to the IASIG I3DL2 model. The application can choose one of these models (or chooses to disable distance-dependent attenuation) on a per-context basis.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alDistanceModel</span><span class="p">(</span><span class="n">ALenum</span> <span class="n">modelName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Legal arguments are <code>AL_NONE</code>, <code>AL_INVERSE_DISTANCE</code>, <code>AL_INVERSE_DISTANCE_CLAMPED</code>, <code>AL_LINEAR_DISTANCE</code>, <code>AL_LINEAR_DISTANCE_CLAMPED</code>, <code>AL_EXPONENT_DISTANCE</code>, and <code>AL_EXPONENT_DISTANCE_CLAMPED</code>. <code>AL_NONE</code> bypasses all distance attenuation calculation for all sources. The implementation is expected to optimize this situation. <code>AL_INVERSE_DISTANCE_CLAMPED</code> is the IASIG I3DL2 model, with <code>AL_REFERENCE_DISTANCE</code> indicating both the reference distance and the distance below which gain will be clamped. <code>AL_INVERSE_DISTANCE</code> is equivalent to the IASIG I3DL2 model with the exception that <code>AL_REFERENCE_DISTANCE</code> does not imply any clamping. The linear models are not physically realistic, but do allow full attenuation of a source beyond a specified distance. The OpenAL implementation is still free to apply any range clamping as necessary. The current distance model chosen can be queried using <code>alGetInteger{v}</code> and <code>AL_DISTANCE_MODEL</code>.</p>
</div>
<div class="paragraph">
<p>With all the distance models, if the formula can not be evaluated then the source will not be attenuated. For example, if a linear model is being used with <code>AL_REFERENCE_DISTANCE</code> equal to <code>AL_MAX_DISTANCE</code>, then the gain equation will have a divide-by-zero error in it. In this case, there is no attenuation for that source.</p>
</div>
<div class="paragraph">
<p>The default attenuation model is <code>AL_INVERSE_DISTANCE_CLAMPED</code>.</p>
</div>
<div class="sect3">
<h4 id="_inverse_distance_rolloff_model">3.4.1. Inverse Distance Rolloff Model</h4>
<div class="paragraph">
<p>The following formula describes the distance attenuation defined by the Inverse Distance Attenuation Model.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gain = AL_REFERENCE_DISTANCE / (AL_REFERENCE_DISTANCE +
       AL_ROLLOFF_FACTOR * (distance - AL_REFERENCE_DISTANCE));</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>AL_REFERENCE_DISTANCE</code> parameter used here is a per-source attribute that can be set and queried using the <code>AL_REFERENCE_DISTANCE</code> token. <code>AL_REFERENCE_DISTANCE</code> is the distance at which the listener will experience <code>AL_GAIN</code> (unless the implementation had to clamp effective <code>AL_GAIN</code> to the available dynamic range). <code>AL_ROLLOFF_FACTOR</code> is per-source parameter the application can use to increase or decrease the range of a source by decreasing or increasing the attenuation, respectively. The default value is <code>1</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_inverse_distance_clamped_model">3.4.2. Inverse Distance Clamped Model</h4>
<div class="paragraph">
<p>This is the Inverse Distance Rolloff Model model, extended to guarantee that for distances below <code>AL_REFERENCE_DISTANCE</code>, gain is clamped. This mode is equivalent to the IASIG I3DL2 distance model.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>distance = max(distance, AL_REFERENCE_DISTANCE);
distance = min(distance, AL_MAX_DISTANCE);
gain = AL_REFERENCE_DISTANCE / (AL_REFERENCE_DISTANCE +
       AL_ROLLOFF_FACTOR * (distance - AL_REFERENCE_DISTANCE));</pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="openal-1.1-specification/inverse-distance-model.png" alt="inverse distance model" width="500">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_linear_distance_rolloff_model">3.4.3. Linear Distance Rolloff Model</h4>
<div class="paragraph">
<p>This models a linear drop-off in gain as distance increases between the source and listener.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>distance = min(distance, AL_MAX_DISTANCE) // avoid negative gain
gain = (1 - AL_ROLLOFF_FACTOR * (distance -
       AL_REFERENCE_DISTANCE) / (AL_MAX_DISTANCE - AL_REFERENCE_DISTANCE))</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_linear_distance_clamped_model">3.4.4. Linear Distance Clamped Model</h4>
<div class="paragraph">
<p>This is the linear model, extended to guarantee that for distances below <code>AL_REFERENCE_DISTANCE</code>, gain is clamped.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>distance = max(distance, AL_REFERENCE_DISTANCE)
distance = min(distance, AL_MAX_DISTANCE)
gain = 1 - AL_ROLLOFF_FACTOR * (distance - AL_REFERENCE_DISTANCE) /
       (AL_MAX_DISTANCE - AL_REFERENCE_DISTANCE)</pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="openal-1.1-specification/linear-distance-model.png" alt="linear distance model" width="500">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_exponential_distance_rolloff_model">3.4.5. Exponential Distance Rolloff Model</h4>
<div class="paragraph">
<p>This models an exponential dropoff in gain as distance increases between the source and listener.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gain = (distance / AL_REFERENCE_DISTANCE) ^ (-AL_ROLLOFF_FACTOR)</pre>
</div>
</div>
<div class="paragraph">
<p>where the <code>^</code> operation raises its first operand to the power of its second operand.</p>
</div>
</div>
<div class="sect3">
<h4 id="_exponential_distance_clamped_model">3.4.6. Exponential Distance Clamped Model</h4>
<div class="paragraph">
<p>This is the exponential model, extended to guarantee that for distances below <code>AL_REFERENCE_DISTANCE</code>, gain is clamped.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>distance = max(distance, AL_REFERENCE_DISTANCE)
distance = min(distance, AL_MAX_DISTANCE)
gain = (distance / AL_REFERENCE_DISTANCE) ^ (-AL_ROLLOFF_FACTOR)</pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="openal-1.1-specification/exponential-distance-model.png" alt="exponential distance model" width="500">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_evaluation_of_gainattenuation_related_state">3.5. Evaluation of Gain/Attenuation Related State</h3>
<div class="paragraph">
<p>While amplification and attenuation commute (multiplication of scaling factors), clamping operations do not. The order in which various gain related operations are applied is:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Distance attenuation is calculated first, including minimum (<code>AL_REFERENCE_DISTANCE</code>) and maximum (<code>AL_MAX_DISTANCE</code>) thresholds.</p>
</li>
<li>
<p>The result is then multiplied by source gain (<code>AL_GAIN</code>).</p>
</li>
<li>
<p>If the source is directional (<code>AL_CONE_INNER_ANGLE</code> less than <code>AL_CONE_OUTER_ANGLE</code>), an angle-dependent attenuation is calculated depending on <code>AL_CONE_OUTER_GAIN</code>, and multiplied with the distance dependent attenuation. The resulting attenuation factor for the given angle and distance between listener and source is multiplied with source <code>AL_GAIN</code>.</p>
</li>
<li>
<p>The effective gain computed this way is compared against <code>AL_MIN_GAIN</code> and <code>AL_MAX_GAIN</code> thresholds.</p>
</li>
<li>
<p>The result is guaranteed to be clamped to [<code>AL_MIN_GAIN</code>, <code>AL_MAX_GAIN</code>], and subsequently multiplied by listener gain which serves as an overall volume control. The implementation is free to clamp listener gain if necessary due to hardware or implementation constraints.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_no_culling_by_distance">3.5.1. No Culling By Distance</h4>
<div class="paragraph">
<p>With the DirectSound3D compatible Inverse Clamped Distance Model, OpenAL provides a per-source <code>AL_MAX_DISTANCE</code> attribute that can be used to define a distance beyond which the source will not be further attenuated by distance. The DS3D distance attenuation model and its clamping of volume is also extended by a mechanism to cull (mute) sources from processing, based on distance. However, the OpenAL does not support culling a source from processing based on a distance threshold.</p>
</div>
<div class="paragraph">
<p>At this time OpenAL does not support culling at all. Culling based on distance, or bounding volumes, or other criteria, is left to the application. For example, the application might employ sophisticated techniques to determine whether sources are audible. In particular, rule based culling inevitably introduces acoustic artifacts. For example, if the listener-source distance is nearly equal to the culling threshold distance, but varies above and below, there will be popping artifacts in the absence of hysteresis.</p>
</div>
</div>
<div class="sect3">
<h4 id="_velocity_dependent_doppler_effect">3.5.2. Velocity Dependent Doppler Effect</h4>
<div class="paragraph">
<p>The Doppler Effect depends on the velocities of source and listener relative to the medium, and the propagation speed of sound in that medium. The application might want to emphasize or de-emphasize the Doppler Effect as physically accurate calculation might not give the desired results. The amount of frequency shift (pitch change) is proportional to the speed of listener and source along their line of sight.</p>
</div>
<div class="paragraph">
<p>The Doppler Effect as implemented by OpenAL is described by the formula below. Effects of the medium (air, water) moving with respect to listener and source are ignored.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>SS</code>
</td>
<td class="hdlist2">
<p><code>AL_SPEED_OF_SOUND</code> - speed of sound (default value <code>343.3</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>DF</code>
</td>
<td class="hdlist2">
<p><code>AL_DOPPLER_FACTOR</code> - Doppler factor (default <code>1.0</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>vls</code>
</td>
<td class="hdlist2">
<p>Listener velocity scalar (scalar, projected on source-to-listener vector)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>vss</code>
</td>
<td class="hdlist2">
<p>Source velocity scalar (scalar, projected on source-to-listener vector)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>f</code>
</td>
<td class="hdlist2">
<p>Frequency of sample</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>f'</code>
</td>
<td class="hdlist2">
<p>effective Doppler shifted frequency</p>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">3D Mathematical representation of <code>vls</code> and <code>vss</code></div>
<div class="content">
<pre>Mag(vector) = sqrt(vector.x * vector.x + vector.y * vector.y + vector.z * vector.z)
DotProduct(v1, v2) = (v1.x * v2.x + v1.y * v2.y + v1.z * v2.z)
SL = source to listener vector
SV = Source velocity vector
LV = Listener velocity vector
vls = DotProduct(SL, LV) / Mag(SL)
vss = DotProduct(SL, SV) / Mag(SL)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Dopper Calculation</div>
<div class="content">
<pre>vss = min(vss, SS/DF)
vls = min(vls, SS/DF)
f' = f * (SS - DF*vls) / (SS - DF * vss)</pre>
</div>
</div>
<div class="paragraph">
<p>There are two API calls global to the current context that provide control of the speed of sound and Doppler factor. <code>AL_DOPPLER_FACTOR</code> is a simple scaling of source and listener velocities to exaggerate or deemphasize the Doppler (pitch) shift resulting from
the calculation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alDopplerFactor</span><span class="p">(</span><span class="n">ALfloat</span> <span class="n">dopplerFactor</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A negative value will result in an <code>AL_INVALID_VALUE</code> error, the command is then ignored. The default value is <code>1</code>. The current setting can be queried using <code>alGetFloat{v}</code> and <code>AL_DOPPLER_FACTOR</code>. The implementation is free to optimize the case of <code>AL_DOPPLER_FACTOR</code> being set to zero, as this effectively disables the effect.</p>
</div>
<div class="paragraph">
<p><code>AL_SPEED_OF_SOUND</code> allows the application to change the reference (propagation) speed used in the Doppler calculation. The source and listener velocities should be expressed in the same units as the speed of sound.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alSpeedOfSound</span><span class="p">(</span><span class="n">ALfloat</span> <span class="n">speed</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A negative or zero value will result in an <code>AL_INVALID_VALUE</code> error, and the command is ignored. The default value is <code>343.3</code> (appropriate for velocity units of meters and air as the propagation medium). The current setting can be queried using <code>alGetFloat{v}</code> and <code>AL_SPEED_OF_SOUND</code>.</p>
</div>
<div class="paragraph">
<p>Distance and velocity units are completely independent of one another (so you could use different units for each if desired).</p>
</div>
<div class="sect4">
<h5 id="_a_note_for_openal_library_implementors_regarding_openal_1_0">A note for OpenAL library implementors regarding OpenAL 1.0</h5>
<div class="paragraph">
<p>The OpenAL 1.1 Doppler implementation is different than that of OpenAL 1.0, because the older implementation was confusing and not implemented consistently. The new <em>speed of sound</em> property makes the 1.1 implementation more intuitive than the old implementation. If your implementation wants to support the <code>AL_DOPPLER_VELOCITY</code> parameter (the <code>alDopplerVelocity</code> call will remain as an entry point so that 1.0 applications can link with a 1.1 library), the above formula can be changed to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vss = min(vss, (SS * DV) / DF)
vls = min(vls, (SS * DV) / DF)
f' = f * (SS * DV - DF  vls) / (SS  DV - DF  vss)</pre>
</div>
</div>
<div class="paragraph">
<p>OpenAL 1.1 programmers would never use <code>AL_DOPPLER_VELOCITY</code> (which defaults to <code>1.0</code>).</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_listener_and_sources">4. Listener and Sources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_basic_listener_and_source_attributes">4.1. Basic Listener and Source Attributes</h3>
<div class="paragraph">
<p>This section introduces basic attributes that can be set both for the listener object and for source objects. The <em>Signature</em> for each attribute refers to the type or types which can be used to represent that attribute. For instance, <code>AL_POSITION</code> can be represented with a floating-point vector (<code>fv</code> - <code>alGetSourcefv</code> or <code>alSourcefv</code>) or with three individual floating-point values (<code>3f</code> - <code>alGetSource3f</code> or <code>alSource3f</code>).</p>
</div>
<div class="paragraph">
<p>The OpenAL listener object and source objects have attributes to describe their position, velocity and orientation in three dimensional space. OpenAL - like OpenGL - uses a right-handed Cartesian coordinate system (RHS), where in a frontal default view X (thumb) points right, Y (index finger) points up, and Z (middle finger) points towards the viewer/camera. To switch from a left handed coordinate system (LHS) to a right handed coordinate systems, flip the sign on the Z coordinate.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_POSITION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fv</code>, <code>3f</code>, <code>iv</code>, <code>3i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any except <code>NaN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{0.0f, 0.0f, 0.0f}</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_POSITION</code> specifies the current location of the object in the world coordinate system. Any 3-tuple of valid float values is allowed. Implementation behavior on encountering <code>NaN</code> and infinity is not defined. The object position is always defined in the world coordinate system.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_VELOCITY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fv</code>, <code>3f</code>, <code>iv</code>, <code>3i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any except <code>NaN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{0.0f, 0.0f, 0.0f}</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_VELOCITY</code> specifies the current velocity (speed and direction) of the object, in the world coordinate system. Any 3-tuple of valid float/double values is allowed. The object <code>AL_VELOCITY</code> does not affect the source&#8217;s position. OpenAL does not calculate the velocity from subsequent position updates, nor does it adjust the position over time based on the specified velocity. Any such calculation is left to the application. For the purposes of sound processing, position and velocity are independent parameters affecting different aspects of the sounds.</p>
<div class="paragraph">
<p><code>AL_VELOCITY</code> is taken into account by the driver to synthesize the Doppler effect perceived by the listener for each source, based on the velocity of both source and listener, and the Doppler related parameters.</p>
</div>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_GAIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_GAIN</code> defines a scalar amplitude multiplier. As a source attribute, it applies to that particular source only. As a listener attribute, it effectively applies to all sources in the current context. The default <code>1.0</code> means that the sound is unattenuated. An <code>AL_GAIN</code> value of <code>0.5</code> is equivalent to an attenuation of 6 dB. The value zero equals silence (no contribution to the output mix). Driver implementations are free to optimize this case and skip mixing and processing stages where applicable. The implementation is in charge of ensuring artifact-free (click-free) changes of gain values and is free to defer actual modification of the sound samples, within the limits of acceptable latencies. <code>AL_GAIN</code> larger than one (i.e. amplification) is permitted for source and listener. However, the implementation is free to clamp the total gain (effective gain per-source multiplied by the listener gain) to one to prevent overflow.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_listener_object">4.2. Listener Object</h3>
<div class="paragraph">
<p>The listener object defines various properties that affect processing of the sound for the actual output. The listener is unique for an OpenAL Context, and has no name. By controlling the listener, the application controls the way the user experiences the virtual world, as the listener defines the sampling/pick-up point and orientation, and other parameters that affect the output stream. The destination output device (e.g. speakers, headphones) and the method used to render the 3D positioning (e.g. HRTFs) is implementation and hardware-dependent.</p>
</div>
<div class="sect3">
<h4 id="_listener_attributes">4.2.1. Listener Attributes</h4>
<div class="paragraph">
<p>Several source attributes also apply to listener: <code>AL_POSITION</code>, <code>AL_VELOCITY</code>, <code>AL_GAIN</code>. In addition, some attributes are listener specific.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_ORIENTATION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fv</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any except <code>NaN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{(0.0f, 0.0f, -1.0f), (0.0f, 1.0f, 0.0f)}</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_ORIENTATION</code> is a pair of 3-tuples consisting of an <em>at</em> vector and an <em>up</em> vector, where the <em>at</em> vector represents the <em>forward</em> direction of the listener and the orthogonal projection of the <em>up</em> vector into the subspace perpendicular to the <em>at</em> vector represents the <em>up</em> direction for the listener. OpenAL expects two vectors that are linearly independent. These vectors are not expected to be normalized. If the two vectors are linearly dependent, behavior is undefined.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_changing_listener_attributes">4.2.2. Changing Listener Attributes</h4>
<div class="paragraph">
<p>Listener attributes are changed using the listener group of commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">alListener</span><span class="p">{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}{</span><span class="n">v</span><span class="p">}(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span> <span class="n">values</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_querying_listener_attributes">4.2.3. Querying Listener Attributes</h4>
<div class="paragraph">
<p>Listener state is maintained inside the OpenAL implementation and can be queried in full. See <a href="#_querying_object_attributes">Querying Object Attributes</a>. The valid values for <code>paramName</code> are identical to the ones for the <code>alListener*</code> command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">alGetListener</span><span class="p">{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}{</span><span class="n">v</span><span class="p">}(</span><span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">values</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_source_objects">4.3. Source Objects</h3>
<div class="paragraph">
<p>Sources specify attributes like position, velocity, and a buffer with sample data. By controlling a source&#8217;s attributes the application can modify and parameterize the static sample data provided by the buffer referenced by the source. Sources define a localized sound, and encapsulate a set of attributes applied to a sound at its origin, i.e. in the very first stage of the processing on the way to the listener. Source related effects have to be applied before listener related effects unless the output is invariant to any collapse or reversal of order. OpenAL also provides additional functions to manipulate and query the execution state of sources: the current playing status of a source (started, stopped, paused), including access to the current sampling position within the associated buffer.</p>
</div>
<div class="sect3">
<h4 id="_managing_source_names">4.3.1. Managing Source Names</h4>
<div class="paragraph">
<p>OpenAL provides calls to request and release source names handles. Calls to control
source execution state are also provided.</p>
</div>
<div class="sect4">
<h5 id="_requesting_a_source_name">Requesting a Source Name</h5>
<div class="paragraph">
<p>The application requests a number of sources using <code>alGenSources</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alGenSources</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">srcNames</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This call creates n sources, putting the source names in the <code>srcNames</code> array.</p>
</div>
</div>
<div class="sect4">
<h5 id="_releasing_source_names">Releasing Source Names</h5>
<div class="paragraph">
<p>The application requests deletion of a number of sources by <code>alDeleteSources</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alDeleteSources</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">sources</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A playing source can be deleted - the source will be stopped automatically and then
deleted.</p>
</div>
</div>
<div class="sect4">
<h5 id="_validating_a_source_name">Validating a Source Name</h5>
<div class="paragraph">
<p>The application can verify whether a source name is valid using the <code>alIsSource</code> query.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALboolean</span> <span class="nf">alIsSource</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_source_attributes">4.3.2. Source Attributes</h4>
<div class="paragraph">
<p>This section lists the attributes that are set per-source, affecting the processing of the current buffer. Some of these attributes can also be set for buffer queue entries.</p>
</div>
<div class="sect4">
<h5 id="_source_positioning">Source Positioning</h5>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_SOURCE_RELATIVE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_TRUE</code>, <code>AL_FALSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_FALSE</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_SOURCE_RELATIVE</code> set to <code>AL_TRUE</code> indicates that the position, velocity, cone, and direction properties of a source are to be interpreted relative to the listener position.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_source_type">Source Type</h5>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_SOURCE_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_UNDETERMINED</code>, <code>AL_STATIC</code>, <code>AL_STREAMING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_UNDETERMINED</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_SOURCE_TYPE</code> is a read-only property indicating whether a source is ready to queue buffers, ready to use a static buffer, or is in an undetermined state where it can be used for either streaming or static playback. When first created, a source will be in the <code>AL_UNDETERMINED</code> state. If a buffer is then attached using <code>alSourcei(sid, AL_BUFFER, bid)</code>, then the source will enter the <code>AL_STATIC</code> state. If the first buffer attached to a source is attached using <code>alSourceQueueBuffers</code>, then the source will enter the <code>AL_STREAMING</code> state. Attaching the <code>NULL</code> buffer using <code>alSourcei(sid, AL_BUFFER, NULL)</code> to a source of either type will reset the state to <code>AL_UNDETERMINED</code>, and attaching any buffer to a streaming source will change the state to <code>AL_STATIC</code>. Attempting to queue a buffer on a static source will result in an <code>AL_INVALID_OPERATION</code> error.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_buffer_looping">Buffer Looping</h5>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_LOOPING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_TRUE</code>, <code>AL_FALSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_FALSE</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_LOOPING</code> is a flag that indicates that the source will not be in <code>AL_STOPPED</code> state once it reaches the end of last buffer in the buffer queue. Instead, the source will immediately promote to <code>AL_INITIAL</code> and <code>AL_PLAYING</code>. The default value is <code>AL_FALSE</code>. <code>AL_LOOPING</code> can be changed on a source in any execution state. In particular, it can be changed on a <code>AL_PLAYING</code> source.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_current_buffer">Current Buffer</h5>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_BUFFER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any valid <code>bufferName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_NONE</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Specifies the current buffer object, making it the head entry in the source&#8217;s queue. Using <code>AL_BUFFER</code> on a source in the <code>AL_STOPPED</code> or <code>AL_INITIAL</code> state empties the entire queue, then appends the one buffer specified.</p>
<div class="paragraph">
<p>For a source in the <code>AL_PLAYING</code> or <code>AL_PAUSED</code> state, setting <code>AL_BUFFER</code> will result in the <code>AL_INVALID_OPERATION</code> error state being set. <code>AL_BUFFER</code> can be applied only to sources in the <code>AL_INITIAL</code> and <code>AL_STOPPED</code> states. Specifying an invalid buffer name (either because the buffer name does not exist or because that buffer can&#8217;t be attached to the specified source) will result in an <code>AL_INVALID_VALUE</code> error while specifying an invalid source name results in an <code>AL_INVALID_NAME</code> error.</p>
</div>
<div class="paragraph">
<p><code>AL_NONE</code> (<code>NULL</code> or 0), is a valid buffer name. <code>alSourcei(sName, AL_BUFFER, AL_NONE)</code> is a legal way to release the current buffer queue on a source in the <code>AL_INITIAL</code> or <code>AL_STOPPED</code> state, whether the source has just one entry (current buffer) or more. The <code>alSourcei(sName, AL_BUFFER, AL_NONE)</code> call still causes an <code>AL_INVALID_OPERATION</code> for any source in the <code>AL_PLAYING</code> or <code>AL_PAUSED</code> state, consequently it cannot be used to mute or stop a source.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_queue_state_queries">Queue State Queries</h5>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_BUFFERS_QUEUED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Query only. Query the number of buffers in the queue of a given source. This includes those not yet played, the one currently playing, and the ones that have been played already. This will return <code>0</code> if the current and only buffer name is <code>0</code>.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_BUFFERS_PROCESSED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Query only. Query the number of buffers that have been played by a given source. Indirectly, this gives the index of the buffer currently playing. Used to determine how many slots are needed for unqueuing them. On a source in the <code>AL_STOPPED</code> state, all buffers are processed. On a source in the <code>AL_INITIAL</code> state, no buffers are processed, all buffers are pending. This will return <code>0</code> if the current and only buffer name is <code>0</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_bounds_on_gain">Bounds on Gain</h5>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_MIN_GAIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0.0f, 1.0f]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_MIN_GAIN</code> is a scalar amplitude threshold. It indicates the minimal <code>AL_GAIN</code> that is always guaranteed for this source. At the end of the processing of various attenuation factors such as distance based attenuation and source <code>AL_GAIN</code>, the effective gain calculated is compared to this value. If the effective gain is lower than <code>AL_MIN_GAIN</code>, <code>AL_MIN_GAIN</code> is applied. This happens before the listener gain is applied. If a zero <code>AL_MIN_GAIN</code> is set, then the effective gain will not be corrected.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_MAX_GAIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0.0f, 1.0f]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><code>AL_MAX_GAIN</code> defines a scalar amplitude threshold. It indicates the maximal <code>AL_GAIN</code> permitted for this source. At the end of the processing of various attenuation factors such as distance based attenuation and source <code>AL_GAIN</code>, the effective gain calculated is compared to this value. If the effective gain is higher than <code>AL_MAX_GAIN</code>, <code>AL_MAX_GAIN</code> is applied. This happens before the listener <code>AL_GAIN</code> is applied. If the listener gain times <code>AL_MAX_GAIN</code> still exceeds the maximum gain the implementation can handle, the implementation is free to clamp. If a zero <code>AL_MAX_GAIN</code> is set, then the source is effectively muted. The implementation is free to optimize for this situation, but no optimization is required or recommended as setting GAIN to zero is the proper way to mute a source.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_distance_model_attributes">Distance Model Attributes</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_REFERENCE_DISTANCE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code>, <code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This is used for distance attenuation calculations based on inverse distance with rolloff. Depending on the distance model it will also act as a distance threshold below which gain is clamped. See the <a href="#_attenuation_by_distance">section on distance models</a> for details.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_ROLLOFF_FACTOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code>, <code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This is used for distance attenuation calculations based on inverse distance with rolloff. For distances smaller than <code>AL_MAX_DISTANCE</code> (and, depending on the distance model, larger than <code>AL_REFERENCE_DISTANCE</code>), this will scale the distance attenuation over the applicable range. See <a href="#_attenuation_by_distance">section on distance models</a> for details how the attenuation is computed as a function of the distance.</p>
<div class="paragraph">
<p>In particular, <code>AL_ROLLOFF_FACTOR</code> can be set to zero for those sources that are supposed to be exempt from distance attenuation. The implementation is encouraged to optimize this case, bypassing distance attenuation calculation entirely on a per-source basis.</p>
</div>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_MAX_DISTANCE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code>, <code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MAX_FLOAT</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This is used for distance attenuation calculations based on inverse distance with rolloff, if the Inverse Clamped Distance Model is used. In this case, distances greater than <code>AL_MAX_DISTANCE</code> will be clamped to <code>AL_MAX_DISTANCE</code>. <code>AL_MAX_DISTANCE</code> based clamping is applied before <code>AL_MIN_GAIN</code> clamping, so if the effective gain at <code>AL_MAX_DISTANCE</code> is larger than <code>AL_MIN_GAIN</code>, <code>AL_MIN_GAIN</code> will have no effect. No culling is supported.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_frequency_shift_by_pitch">Frequency Shift by Pitch</h5>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_PITCH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(0.0f, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Desired pitch shift, where 1.0 equals identity. Each reduction by 50 percent equals a pitch shift of -12 semitones (one octave reduction). Each doubling equals a pitch shift of 12 semitones (one octave increase). Zero is not a legal value. Implementations may clamp the actual output pitch range to any values subject to the implementation&#8217;s own limits.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_direction_and_cone">Direction and Cone</h5>
<div class="paragraph">
<p>Each source can be directional, depending on the settings for <code>AL_CONE_INNER_ANGLE</code> and <code>AL_CONE_OUTER_ANGLE</code>. There are three zones defined: the inner cone, the outside zone, and the transitional zone in-between. The angle-dependent gain for a directional source is constant inside the inner cone, and changes over the transitional zone to the value specified outside the outer cone. Source <code>AL_GAIN</code> is applied for the inner cone, with an application selectable <code>AL_CONE_OUTER_GAIN</code> factor to define the gain in the outer zone. In the transitional zone linear interpolation between <code>AL_GAIN</code> and <code>AL_GAIN</code> times <code>AL_CONE_OUTER_GAIN</code> is applied.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_DIRECTION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fv</code>, <code>3f</code>, <code>iv</code>, <code>3i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any except <code>NaN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(0.0f, 0.0f, 0.0f)</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>If <code>AL_DIRECTION</code> does not equal the zero vector, the source is directional. The sound emission is presumed to be symmetric around the direction vector (cylinder symmetry). sources are not oriented in full 3 degrees of freedom, only two angles are effectively needed.</p>
<div class="paragraph">
<p>The zero vector is default, indicating that a source is not directional. Specifying a non-zero vector will make the source directional. Specifying a zero vector for a directional source will effectively mark it as non-directional.</p>
</div>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_CONE_INNER_ANGLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code>, <code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any except <code>NaN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>360.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Inside angle of the sound cone, in degrees. The default of <code>360</code> means that the inner angle covers the entire world, which is equivalent to an omni-directional source.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_CONE_OUTER_ANGLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code>, <code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any except <code>NaN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>360.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Outer angle of the sound cone, in degrees. The default of <code>360</code> means that the outer angle covers the entire world. If the inner angle is also 360, then the zone for angle-dependent attenuation is zero.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_CONE_OUTER_GAIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0.0f, 1.0f]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.0f</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Description: the factor with which <code>AL_GAIN</code> is multiplied to determine the effective gain outside the cone defined by the outer angle. The effective gain applied outside the outer cone is <code>AL_GAIN</code> times <code>AL_CONE_OUTER_GAIN</code>. Changing <code>AL_GAIN</code> affects all directions, i.e. the source is attenuated in all directions, for any position of the listener. The application has to change <code>AL_CONE_OUTER_GAIN</code> as well if a different behavior is desired.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_offset">Offset</h5>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_SEC_OFFSET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code>, <code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0.0f, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The playback position, expressed in seconds (the value will loop back to zero for looping sources).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When setting <code>AL_SEC_OFFSET</code> on a source which is already playing, the playback will jump to the new offset unless the new offset is out of range, in which case an <code>AL_INVALID_VALUE</code> error is set. If the source is not playing, then the offset will be applied on the next <code>alSourcePlay</code> call.</p>
</div>
<div class="paragraph">
<p>The position is relative to the beginning of all the queued buffers for the source, and any queued buffers traversed by a set call will be marked as processed.</p>
</div>
<div class="paragraph">
<p>This value is based on byte position, so a pitch-shifted source will have an exaggerated playback speed. For example, you can be 0.500 seconds into a buffer having taken only 0.250 seconds to get there if the pitch is set to 2.0.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_SAMPLE_OFFSET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code>, <code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0.0f, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The playback position, expressed in samples (the value will loop back to zero for looping sources). For a compressed format, this value will represent an exact offset within the uncompressed data.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When setting <code>AL_SAMPLE_OFFSET</code> on a source which is already playing, the playback will jump to the new offset unless the new offset is out of range, in which case an <code>AL_INVALID_VALUE</code> error is set. If the source is not playing, then the offset will be applied on the next <code>alSourcePlay</code> call. An <code>alSourceStop</code>, <code>alSourceRewind</code>, or a second <code>alSourcePlay</code> call will reset the offset to the beginning of the buffer.</p>
</div>
<div class="paragraph">
<p>The position is relative to the beginning of all the queued buffers for the source, and any queued buffers traversed by a set call will be marked as processed.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_BYTE_OFFSET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code>, <code>fv</code>, <code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0.0f, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The playback position, expressed in bytes (the value will loop back to zero for looping sources). For a compressed format, this value may represent an approximate offset within the compressed data buffer.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When setting <code>AL_BYTE_OFFSET</code> on a source which is already playing, the playback will jump to the new offset unless the new offset is out of range, in which case an <code>AL_INVALID_VALUE</code> error is set. If the source is not playing, then the offset will be applied on the next <code>alSourcePlay</code> call. An <code>alSourceStop</code>, <code>alSourceRewind</code>, or a second <code>alSourcePlay</code> call will reset the offset to the beginning of the buffer.</p>
</div>
<div class="paragraph">
<p>The position is relative to the beginning of all the queued buffers for the source, and any queued buffers traversed by a set call will be marked as processed.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_changing_source_attributes">4.3.3. Changing Source Attributes</h4>
<div class="paragraph">
<p>The source specifies the position and other properties as taken into account during sound processing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">alSource</span><span class="p">{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span> <span class="n">value</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">alSource</span><span class="p">{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}</span><span class="n">v</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">values</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_querying_source_attributes">4.3.4. Querying Source Attributes</h4>
<div class="paragraph">
<p>Source state is maintained inside the OpenAL implementation, and the current attributes can be queried. The performance of such queries is implementation dependent, no performance guarantees are made. The valid values for the paramName parameter are identical to the ones for the source set calls.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">alGetSource</span><span class="p">{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}{</span><span class="n">v</span><span class="p">}(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">values</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_queuing_buffers_with_a_source">4.3.5. Queuing Buffers with a Source</h4>
<div class="paragraph">
<p>OpenAL does not specify a built-in streaming mechanism. There is no mechanism to stream data into a buffer object. Instead, the API has a more flexible and versatile mechanism to queue buffers for sources.</p>
</div>
<div class="paragraph">
<p>There are many ways to use this feature, with streaming being only one of them.</p>
</div>
<div class="paragraph">
<p>Streaming is replaced by queuing static buffers. This effectively moves any multi-buffer caching into the application and allows the application to select how many buffers it wants to use, the size of the buffers, and whether these are re-used in cycle, pooled, or thrown away.</p>
</div>
<div class="paragraph">
<p>Looping (over a finite number of repetitions) can be implemented by explicitly repeating buffers in the queue. Infinite loops can (theoretically) be accomplished by sufficiently large repetition counters. If only a single buffer is supposed to be repeated infinitely, using the respective source attribute is recommended. Loop Points for restricted looping inside a buffer can in many cases be replaced by splitting the sample into several buffers and queuing the sample fragments (including repetitions) accordingly.</p>
</div>
<div class="paragraph">
<p>Buffers can be queued, unqueued after they have been used, and either be deleted, or refilled and queued again. Splitting large samples over several buffers maintained in a queue has a distinct advantages over approaches that require explicit management of samples and sample indices.</p>
</div>
<div class="sect4">
<h5 id="_queuing_command">Queuing Command</h5>
<div class="paragraph">
<p>The application can queue up one or multiple buffer names using <code>alSourceQueueBuffers</code>. The buffers will be queued in the sequence in which they appear in the array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alSourceQueueBuffers</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">,</span> <span class="n">ALsizei</span> <span class="n">numBuffers</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">bufferNames</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This command is legal on a source in any playback state (to allow for streaming, queuing has to be possible on a <code>AL_PLAYING</code> source).</p>
</div>
<div class="paragraph">
<p>All buffers in a queue must have the same format and attributes, with the exception of the <code>NULL</code> buffer (i.e., <code>0</code>) which can always be queued. An attempt to mix formats or other buffer attributes will result in a failure and an <code>AL_INVALID_VALUE</code> error will be thrown. If the queue operation fails, the source queue will remain unchanged (even if some of the buffers could have been queued).</p>
</div>
</div>
<div class="sect4">
<h5 id="_unqueuing_command">Unqueuing Command</h5>
<div class="paragraph">
<p>Once a queue entry for a buffer has been appended to a queue and is pending processing, it should not be changed. Removal of a given queue entry is not possible unless either the source is stopped (in which case then entire queue is considered processed), or if the queue entry has already been processed (<code>AL_PLAYING</code> or <code>AL_PAUSED</code> source). A playing source will enter the <code>AL_STOPPED</code> state if it completes playback of the last buffer in its queue (the same behavior as when a single buffer has been attached to a source and has finished playback).</p>
</div>
<div class="paragraph">
<p>The <code>alSourceUnqueueBuffers</code> command removes a number of buffers entries that have finished processing, in the order of appearance, from the queue. The operation will fail with an <code>AL_INVALID_VALUE</code> error if more buffers are requested than available, leaving the destination arguments unchanged.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alSourceUnqueueBuffers</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">,</span> <span class="n">ALsizei</span> <span class="n">numEntries</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">bufferNames</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_managing_source_execution">4.3.6. Managing Source Execution</h4>
<div class="paragraph">
<p>The execution state of a source can be queried. OpenAL provides a set of functions that initiate state transitions causing sources to start and stop execution.</p>
</div>
<div class="sect4">
<h5 id="_source_state_query">Source State Query</h5>
<div class="paragraph">
<p>The application can query the current state of any source using <code>alGetSource</code> with the parameter name <code>AL_SOURCE_STATE</code>. Each source can be in one of four possible execution states: <code>AL_INITIAL</code>, <code>AL_PLAYING</code>, <code>AL_PAUSED</code>, <code>AL_STOPPED</code>. Sources that are either <code>AL_PLAYING</code> or <code>AL_PAUSED</code> are considered active. Sources that are <code>AL_STOPPED</code> or <code>AL_INITIAL</code> are considered inactive. Only <code>AL_PLAYING</code> sources are included in the processing. The implementation is free to skip those processing stages for sources that have no effect on the output (e.g. mixing for a source muted by zero GAIN, but not sample offset increments). Depending on the current state of a source certain (e.g. repeated) state transition commands are legal NOPs: they will be ignored, no error is generated.</p>
</div>
</div>
<div class="sect4">
<h5 id="_state_transition_commands">State Transition Commands</h5>
<div class="paragraph">
<p>The default state of any source is INITIAL. From this state it can be propagated to any other state by appropriate use of the commands below. There are no irreversible state transitions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alSourcePlay</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sName</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alSourcePause</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sName</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alSourceStop</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sName</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alSourceRewind</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The functions are also available as a vector variant, which guarantees synchronized operation on a set of sources.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alSourcePlayv</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">sNames</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alSourcePausev</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">sNames</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alSourceStopv</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">sNames</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alSourceRewindv</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">sNames</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following state/command/state transitions are defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alSourcePlay</code> applied to an <code>AL_INITIAL</code> source will promote the source to <code>AL_PLAYING</code>, thus the data found in the buffer will be fed into the processing, starting at the beginning. <code>alSourcePlay</code> applied to a <code>AL_PLAYING</code> source will restart the source from the beginning. It will not affect the configuration, and will leave the source in <code>AL_PLAYING</code> state, but reset the sampling offset to the beginning. <code>alSourcePlay</code> applied to a <code>AL_PAUSED</code> source will resume processing using the source state as preserved at the <code>alSourcePause</code> operation. <code>alSourcePlay</code> applied to a <code>AL_STOPPED</code> source will propagate it to <code>AL_INITIAL</code> then to <code>AL_PLAYING</code> immediately.</p>
</li>
<li>
<p><code>alSourcePause</code> applied to an <code>AL_INITIAL</code> source is a legal NOP. <code>alSourcePause</code> applied to a <code>AL_PLAYING</code> source will change its state to <code>AL_PAUSED</code>. The source is exempt from processing, its current state is preserved. <code>alSourcePause</code> applied to a <code>AL_PAUSED</code> source is a legal NOP. alSourcePause applied to a <code>AL_STOPPED</code> source is a legal NOP.</p>
</li>
<li>
<p><code>alSourceStop</code> applied to an <code>AL_INITIAL</code> source is a legal NOP. <code>alSourceStop</code> applied to a <code>AL_PLAYING</code> source will change its state to <code>AL_STOPPED</code>. The source is exempt from processing, its current state is preserved. <code>alSourceStop</code> applied to a <code>AL_PAUSED</code> source will change its state to <code>AL_STOPPED</code>, with the same consequences as on a <code>AL_PLAYING</code> source. <code>alSourceStop</code> applied to a <code>AL_STOPPED</code> source is a legal NOP.</p>
</li>
<li>
<p><code>alSourceRewind</code> applied to an <code>AL_INITIAL</code> source is a legal NOP. <code>alSourceRewind</code> applied to a <code>AL_PLAYING</code> source will change its state to <code>AL_STOPPED</code> then <code>AL_INITIAL</code>. The source is exempt from processing: its current state is preserved, with the exception of the sampling offset, which is reset to the beginning. <code>alSourceRewind</code> applied to a <code>AL_PAUSED</code> source will change its state to <code>AL_INITIAL</code>, with the same consequences as on a <code>AL_PLAYING</code> source. <code>alSourceRewind</code> applied to an <code>AL_STOPPED</code> source promotes the source to <code>AL_INITIAL</code>, resetting the sampling offset to the beginning.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_resetting_configuration">Resetting Configuration</h5>
<div class="paragraph">
<p>Promoting a source to the <code>AL_INITIAL</code> state using <code>alSourceRewind</code> will not reset the source&#8217;s properties. <code>AL_INITIAL</code> merely indicates that the source can be executed using the <code>alSourcePlay</code> command. An <code>AL_STOPPED</code> or <code>AL_INITIAL</code> source can be reset into the default configuration by using a sequence of source commands as necessary. As the application has to specify all relevant state anyway to create a useful source configuration, no reset command is provided.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_buffers">5. Buffers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A buffer encapsulates OpenAL state related to storing sample data. The application can request and release buffer objects, and fill them with data. Data can be supplied compressed and encoded as long as the format is supported. Buffers can, internally, contain waveform data as uncompressed or compressed samples.</p>
</div>
<div class="paragraph">
<p>Unlike source and listener objects, buffer objects can be shared among AL contexts. Buffers are referenced by sources. A single buffer can be referred to by multiple sources. This separation allows drivers and hardware to optimize storage and processing where applicable.</p>
</div>
<div class="paragraph">
<p>The simplest supported format for buffer data is PCM. PCM data is assumed to use the processor&#8217;s native byte order. Other formats use the byte order native to that format.</p>
</div>
<div class="sect2">
<h3 id="_buffer_states">5.1. Buffer States</h3>
<div class="paragraph">
<p>At this time, buffer states are defined for purposes of discussion. The states described in this section are not exposed through the API (can not be queried, or be set directly), and the state description used in the implementation might differ from this.</p>
</div>
<div class="paragraph">
<p>A buffer is considered to be in one of the following states, with respect to all sources:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Unused</dt>
<dd>
<p>The buffer is not included in any queue for any source. In particular, the buffer is neither pending nor current for any source. The buffer name can be deleted at this time.</p>
</dd>
<dt class="hdlist1">Processed</dt>
<dd>
<p>The buffer is listed in the queue of at least one source, but is neither pending nor current for any source. The buffer can be deleted as soon as it has been unqueued for all sources it is queued with.</p>
</dd>
<dt class="hdlist1">Pending</dt>
<dd>
<p>There is at least one source for which the buffer has been queued, for which the buffer data has not yet been dereferenced. The buffer can only be unqueued for those sources that have dereferenced the data in the buffer in its entirety, and cannot be deleted or changed.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The buffer state is dependent on the state of all sources that is has been queued for. A single queue occurrence of a buffer propagates the buffer state (over all sources) from <em>unused</em> to <em>processed</em> or higher. Sources that are in the <code>AL_STOPPED</code> or <code>AL_INITIAL</code> states still have queue entries that cause buffers to be <em>processed</em>.</p>
</div>
<div class="paragraph">
<p>A single queue entry with a single source for which the buffer is not yet <em>processed</em> propagates the buffer&#8217;s queuing state to <em>pending</em>.</p>
</div>
<div class="paragraph">
<p>Buffers that are <em>processed</em> for a given source can be unqueued from that source&#8217;s queue. Buffers that have been unqueued from all sources are <em>unused</em>. Buffers that are <em>unused</em> can be deleted, or changed by <code>alBufferData</code> commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="_managing_buffer_names">5.2. Managing Buffer Names</h3>
<div class="paragraph">
<p>OpenAL provides calls to obtain buffer names, to request deletion of a buffer object associated with a valid buffer name, and to validate a buffer name. Calls to control buffer attributes are also provided.</p>
</div>
<div class="sect3">
<h4 id="_requesting_buffers_names">5.2.1. Requesting Buffers Names</h4>
<div class="paragraph">
<p>The application requests a number of buffers using <code>alGenBuffers</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alGenBuffers</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">bufferNames</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This can be called at any time and multiple calls will generate multiple sets of buffers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_releasing_buffer_names">5.2.2. Releasing Buffer Names</h4>
<div class="paragraph">
<p>The application requests deletion of a number of buffers by calling <code>alDeleteBuffers</code>. Once deleted, names are no longer valid for use with AL function calls. Any such use will cause an <code>AL_INVALID_NAME</code> error. The implementation is free to defer actual release of resources.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alDeleteBuffers</span><span class="p">(</span><span class="n">ALsizei</span> <span class="n">n</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALuint</span><span class="o">*</span> <span class="n">bufferNames</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>alIsBuffer(bname)</code> can be used to verify deletion of a buffer. Deleting buffer name 0 is a legal NOP. A buffer which is attached to a source can not be deleted.</p>
</div>
</div>
<div class="sect3">
<h4 id="_validating_a_buffer_name">5.2.3. Validating a Buffer Name</h4>
<div class="paragraph">
<p>The application can verify whether a buffer name is valid using the <code>alIsBuffer</code> query.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALboolean</span> <span class="nf">alIsBuffer</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">bufferName</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_manipulating_buffer_attributes">5.3. Manipulating Buffer Attributes</h3>
<div class="sect3">
<h4 id="_buffer_attributes">5.3.1. Buffer Attributes</h4>
<div class="paragraph">
<p>This section lists the buffer attributes that can queried. Note that the listed attributes are set using <code>alBufferData</code>.</p>
</div>
<div class="paragraph">
<p>Querying the attributes of a buffer with a buffer name that is not valid throws an <code>AL_INVALID_OPERATION</code>. Passing in an attribute name that is invalid throws an <code>AL_INVALID_VALUE</code> error.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_FREQUENCY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(0, any]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Frequency, specified in samples per second, i.e. units of Hertz [Hz]. Query by <code>alGetBuffer</code>. The frequency state of a buffer is set by <code>alBufferData</code> calls.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_SIZE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[0, MAX_UINT]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Size in bytes of the buffer data. Query through <code>alGetBuffer</code>, can be set only using <code>alBufferData</code> calls. Setting an <code>AL_SIZE</code> of 0 is a legal NOP.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_BITS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8</code>, <code>16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>16</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The number of bits per sample for the data contained in the buffer. Query by <code>alGetBuffer</code>. The number of bits is set by <code>alBufferData</code> calls.</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Signature</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Values</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Default</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AL_CHANNELS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code>, <code>iv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code>, <code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The number of channels for the data contained in the buffer. Query by <code>alGetBuffer</code>. The number of channels is set by <code>alBufferData</code> calls.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_changing_buffer_attributes">5.3.2. Changing Buffer Attributes</h4>
<div class="paragraph">
<p>A buffer-related extension may wish to set its own buffer attributes using one of the following calls:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">alBuffer</span><span class="p">{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span> <span class="n">value</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">alBuffer</span><span class="p">{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}</span><span class="n">v</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">sourceName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">values</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_querying_buffer_attributes">5.3.3. Querying Buffer Attributes</h4>
<div class="paragraph">
<p>Buffer state is maintained inside the OpenAL implementation and can be queried in full. The valid values for paramName are <code>AL_FREQUENCY</code>, <code>AL_SIZE</code>, <code>AL_BITS</code>, and <code>AL_CHANNELS</code>, and the values returned will represent the internal representation of the buffer data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="n">alGetBuffer</span><span class="p">{</span><span class="n">n</span><span class="p">}{</span><span class="k">if</span><span class="p">}{</span><span class="n">v</span><span class="p">}</span> <span class="p">(</span><span class="n">ALuint</span> <span class="n">bufferName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">paramName</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">values</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_specifying_buffer_content">5.3.4. Specifying Buffer Content</h4>
<div class="paragraph">
<p>A special case of buffer state is the actual sound sample data stored in association with the buffer. Applications can specify sample data using <code>alBufferData</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alBufferData</span><span class="p">(</span><span class="n">ALuint</span> <span class="n">bufferName</span><span class="p">,</span> <span class="n">ALenum</span> <span class="n">format</span><span class="p">,</span>
                  <span class="k">const</span> <span class="n">ALvoid</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">ALsizei</span> <span class="n">size</span><span class="p">,</span> <span class="n">ALsizei</span> <span class="n">frequency</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The data specified is copied to an internal software, or if possible, hardware buffer. The implementation is free to apply decompression, conversion, resampling, and filtering as needed. Valid formats are <code>AL_FORMAT_MONO8</code>, <code>AL_FORMAT_MONO16</code>, <code>AL_FORMAT_STEREO8</code>, and <code>AL_FORMAT_STEREO16</code>. An implementation may expose other formats through extensions.</p>
</div>
<div class="paragraph">
<p>8-bit data is expressed as an unsigned value over the range <code>0</code> to <code>255</code>, <code>128</code> being an audio output level of zero.</p>
</div>
<div class="paragraph">
<p>16-bit data is expressed as a signed value over the range <code>-32768</code> to <code>32767</code>, <code>0</code> being an audio output level of zero. Byte order for 16-bit values is determined by the native format of the CPU.</p>
</div>
<div class="paragraph">
<p>Stereo data is expressed in an interleaved format, left channel sample followed by the right channel sample.</p>
</div>
<div class="paragraph">
<p>Buffers containing audio data with more than one channel will be played without 3D spatialization features - these formats are normally used for background music.</p>
</div>
<div class="paragraph">
<p>The size given is the number of bytes, and must be logical for the format given - an odd value for 16-bit data will always be an error, for example. An invalid size will result in an <code>AL_INVALID_VALUE</code> error.</p>
</div>
<div class="paragraph">
<p>Applications should always check for an error condition after attempting to specify buffer data in case an implementation has to generate an <code>AL_OUT_OF_MEMORY</code> or conversion related <code>AL_INVALID_VALUE</code> error. The application is free to reuse the memory specified by the data pointer once the call to <code>alBufferData</code> returns. The implementation has to dereference, e.g. copy, the data during <code>alBufferData</code> execution.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_al_contexts_and_the_alc_api">6. AL Contexts and the ALC API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section of the AL specification describes ALC, the OpenAL Context API. ALC is a portable API for managing OpenAL contexts, including resource sharing, locking, and unlocking. Within the core AL API the existence of a Context is implied, but the Context is not exposed. The Context encapsulates the state of a given instance of the AL state machine.</p>
</div>
<div class="paragraph">
<p>The Context API makes use of ALC types which are defined separately from the AL types - there is an <code>ALCboolean</code>, <code>ALCchar</code>, etc.</p>
</div>
<div class="sect2">
<h3 id="_managing_devices">6.1. Managing Devices</h3>
<div class="paragraph">
<p>ALC introduces the notion of a Device. A Device can be, depending on the implementation, a hardware device, or a daemon/OS service/actual server. This mechanism also permits different drivers (and hardware) to coexist within the same system, as well as allowing several applications to share system resources for audio, including a single hardware output device. The details are left to the implementation, which has to map the available backends to unique device specifiers.</p>
</div>
<div class="sect3">
<h4 id="_connecting_to_a_device">6.1.1. Connecting to a Device</h4>
<div class="paragraph">
<p>The <code>alcOpenDevice</code> function allows the application (i.e. the client program) to connect to a device (i.e. the server).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCdevice</span><span class="o">*</span> <span class="nf">alcOpenDevice</span><span class="p">(</span><span class="k">const</span> <span class="n">ALCchar</span><span class="o">*</span> <span class="n">deviceSpecifier</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the function returns <code>NULL</code>, then no sound driver/device has been found. The argument is a null terminated string that requests a certain device or device configuration. If <code>NULL</code> is specified, the implementation will provide an implementation specific default.</p>
</div>
</div>
<div class="sect3">
<h4 id="_disconnecting_from_a_device">6.1.2. Disconnecting from a Device</h4>
<div class="paragraph">
<p>The <code>alcCloseDevice</code> function allows the application (i.e. the client program) to disconnect from a device (i.e. the server).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCboolean</span> <span class="nf">alcCloseDevice</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The return code will be <code>ALC_TRUE</code> or <code>ALC_FALSE</code>, indicating success or failure. Failure will occur if all the device&#8217;s contexts and buffers have not been destroyed. Once closed, the deviceHandle is invalid.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_managing_rendering_contexts">6.2. Managing Rendering Contexts</h3>
<div class="paragraph">
<p>All operations of the AL core API affect a current AL context. Within the scope of AL, the ALC is implied - it is not visible as a handle or function parameter. Only one AL Context per process can be current at a time. Applications maintaining multiple AL Contexts, whether threaded or not, have to set the current context accordingly. Applications can have multiple threads that share one more or contexts. In other words, AL and ALC are threadsafe.</p>
</div>
<div class="sect3">
<h4 id="_context_attributes">6.2.1. Context Attributes</h4>
<div class="paragraph">
<p>The application can choose to specify certain attributes for a context at context-creation time. Attributes not specified explicitly are set to implementation dependent defaults.</p>
</div>
<table id="table_context_creation_attributes" class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 5. Context Creation Attributes</caption>
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Description</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_FREQUENCY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Frequency for mixing output buffer, in units of Hz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_REFRESH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refresh intervals, in units of Hz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_SYNC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag, indicating a synchronous context</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_MONO_SOURCES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A hint indicating how many sources should be capable of supporting mono data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_STEREO_SOURCES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A hint indicating how many sources should be capable of supporting stereo data</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_creating_a_context">6.2.2. Creating a Context</h4>
<div class="paragraph">
<p>A context is created using <code>alcCreateContext</code>. The device parameter has to be a valid device. The attribute list can be <code>NULL</code>, or a zero terminated list of integer pairs composed of valid ALC attribute tokens and requested values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCcontext</span><span class="o">*</span> <span class="nf">alcCreateContext</span><span class="p">(</span><span class="k">const</span> <span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALCint</span><span class="o">*</span> <span class="n">attrList</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Context creation will fail in the following cases:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>if the application requests attributes that, by themselves, can not be provided</p>
</li>
<li>
<p>if the combination of specified attributes can not be provided</p>
</li>
<li>
<p>if a specified attribute, or the combination of attributes, does not match the default values for unspecified attributes</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If context creation fails, the context pointer returned will be <code>NULL</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_selecting_a_context_for_operation">6.2.3. Selecting a Context for Operation</h4>
<div class="paragraph">
<p>To make a Context current with respect to OpenAL operation, <code>alcMakeContextCurrent</code> is used. The context parameter can be <code>NULL</code> or a valid context pointer. Using <code>NULL</code> results in no context being current, which is useful when shutting OpenAL down. The operation will apply to the device that the context was created for.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCboolean</span> <span class="nf">alcMakeContextCurrent</span><span class="p">(</span><span class="n">ALCcontext</span><span class="o">*</span> <span class="n">context</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The return value (<code>ALC_TRUE</code> or <code>ALC_FALSE</code>) will reflect whether or not an error occurred in the call. Standard error conditions are also set during execution of this call (<code>ALC_INVALID_CONTEXT</code> for an invalid context pointer, for instance).</p>
</div>
<div class="paragraph">
<p>For each OS process (usually this means for each application), only one context can be current at any given time. All AL commands apply to the current context. Commands that affect objects shared among contexts (e.g. buffers) have side effects on other contexts.</p>
</div>
</div>
<div class="sect3">
<h4 id="_initiate_context_processing">6.2.4. Initiate Context Processing</h4>
<div class="paragraph">
<p>The current context is the only context accessible to state changes by AL commands (aside from state changes affecting shared objects). However, multiple contexts can be processed at the same time. To indicate that a context should be processed (i.e. that internal execution state such as the offset increments are to be performed), the application uses <code>alcProcessContext</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alcProcessContext</span><span class="p">(</span><span class="n">ALCcontext</span><span class="o">*</span> <span class="n">context</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Repeated calls to <code>alcProcessContext</code> are legal, and do not affect a context that is already marked as processing. The default state of a context created by <code>alcCreateContext</code> is that it is processing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_suspend_context_processing">6.2.5. Suspend Context Processing</h4>
<div class="paragraph">
<p>The application can suspend any context from processing (including the current one). To indicate that a context should be suspended from processing (i.e. that internal execution state such as offset increments are not to be changed), the application uses <code>alcSuspendContext</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alcSuspendContext</span> <span class="p">(</span><span class="n">ALCcontext</span><span class="o">*</span> <span class="n">context</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Repeated calls to <code>alcSuspendContext</code> are legal, and do not affect a context that is already marked as suspended.</p>
</div>
</div>
<div class="sect3">
<h4 id="_destroying_a_context">6.2.6. Destroying a Context</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alcDestroyContext</span><span class="p">(</span><span class="n">ALCcontext</span><span class="o">*</span> <span class="n">context</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The correct way to destroy a context is to first release it using <code>alcMakeCurrent</code> with a <code>NULL</code> context. Applications should not attempt to destroy a current context - doing so will not work and will result in an <code>ALC_INVALID_OPERATION</code> error. All sources within a context will automatically be deleted during context destruction.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_alc_queries">6.3. ALC Queries</h3>
<div class="sect3">
<h4 id="_query_for_current_context">6.3.1. Query for Current Context</h4>
<div class="paragraph">
<p>The application can query for, and obtain an handle to, the current context for the application. If there is no current context, <code>NULL</code> is returned.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCcontext</span><span class="o">*</span> <span class="nf">alcGetCurrentContext</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_query_for_a_contexts_device">6.3.2. Query for a Context&#8217;s Device</h4>
<div class="paragraph">
<p>The application can query for, and obtain an handle to, the device of a given context.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCdevice</span><span class="o">*</span> <span class="nf">alcGetContextsDevice</span><span class="p">(</span><span class="n">ALCcontext</span><span class="o">*</span> <span class="n">context</span><span class="p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_query_for_extensions">6.3.3. Query For Extensions</h4>
<div class="paragraph">
<p>To verify that a given extension is available for the current context and the device it is associated with, use</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCboolean</span> <span class="nf">alcIsExtensionPresent</span><span class="p">(</span><span class="k">const</span> <span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALCchar</span><span class="o">*</span> <span class="n">extName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Invalid and unsupported string tokens return <code>ALC_FALSE</code>. A <code>NULL</code> <code>deviceHandle</code> is acceptable. A <code>NULL</code> <code>extName</code> will result in an <code>ALC_INVALID_VALUE</code> error and the return code will be <code>ALC_FALSE</code>. <code>extName</code> is not case sensitive - the implementation will convert the name to all upper-case internally (and will express extension names in upper-case).</p>
</div>
</div>
<div class="sect3">
<h4 id="_query_for_function_entry_addresses">6.3.4. Query for Function Entry Addresses</h4>
<div class="paragraph">
<p>The application is expected to verify the applicability of an extension or core function entry point before requesting it by name, by use of <code>alcIsExtensionPresent</code>. Extension entry points can be retrieved using <code>alcGetProcAddress</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span><span class="o">*</span> <span class="nf">alcGetProcAddress</span><span class="p">(</span><span class="k">const</span> <span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALchar</span><span class="o">*</span> <span class="n">funcName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Entry points can be device specific, but are not context specific. Using a <code>NULL</code> device handle does not guarantee that the entry point is returned, even if available for one of the available devices. Specifying a <code>NULL</code> name parameter will cause an <code>ALC_INVALID_VALUE</code> error.</p>
</div>
</div>
<div class="sect3">
<h4 id="_retrieving_enumeration_values">6.3.5. Retrieving Enumeration Values</h4>
<div class="paragraph">
<p>Enumeration/token values are device independent, but tokens defined for extensions might not be present for a given device. Using a <code>NULL</code> handle is legal, but only the tokens defined by the AL core are guaranteed. Availability of extension tokens depends on the ALC extension.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCenum</span> <span class="nf">alcGetEnumValue</span><span class="p">(</span><span class="k">const</span> <span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">,</span> <span class="k">const</span> <span class="n">ALCchar</span><span class="o">*</span> <span class="n">enumName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Specifying a <code>NULL</code> <code>enumName</code> parameter will cause an <code>ALC_INVALID_VALUE</code> error and a return value of <code>AL_NONE</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_query_for_error_conditions">6.3.6. Query for Error Conditions</h4>
<div class="paragraph">
<p>ALC uses the same conventions and mechanisms as AL for error handling. In particular, ALC does not use conventions derived from X11 (GLX) or Windows (WGL). The <code>alcGetError</code> function can be used to query ALC errors.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCenum</span> <span class="nf">alcGetError</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Error conditions are specific to the device, and (like AL) a call to <code>alcGetError</code> resets the error state.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 6. Error Conditions</caption>
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Description</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_NO_ERROR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">There is no current error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_INVALID_DEVICE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The device handle or specifier names an accessible driver/server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_INVALID_CONTEXT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Context argument does not name a valid context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_INVALID_ENUM</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A token used is not valid, or not applicable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_INVALID_VALUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A value (e.g. Attribute) is not valid, or not applicable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_OUT_OF_MEMORY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unable to allocate memory.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_string_query">6.3.7. String Query</h4>
<div class="paragraph">
<p>The application can obtain certain strings from ALC.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="k">const</span> <span class="n">ALCchar</span><span class="o">*</span> <span class="nf">alcGetString</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">,</span> <span class="n">ALCenum</span> <span class="n">token</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Specifying <code>NULL</code> for deviceHandle when asking for <code>ALC_EXTENSIONS</code> will generate an <code>ALC_INVALID_DEVICE</code> error. The deviceHandle value is ignored when asking for <code>ALC_DEFAULT_DEVICE_SPECIFIER</code> or <code>ALC_CAPTURE_DEFAULT_DEVICE_SPECIFIER</code>.</p>
</div>
<div class="paragraph">
<p>An <code>alcGetString</code> query of <code>ALC_DEVICE_SPECIFIER</code> or <code>ALC_CAPTURE_DEVICE_SPECIFIER</code> with a <code>NULL</code> device passed in will return a list of available devices. Each device name will be separated by a single <code>NULL</code> character and the list will be terminated with two <code>NULL</code> characters.</p>
</div>
<div class="paragraph">
<p>A request for <code>ALC_DEFAULT_DEVICE_SPECIFIER</code> on a system without an audio output device will result in <code>NULL</code> being returned.</p>
</div>
<div class="paragraph">
<p>A request for <code>ALC_CAPTURE_DEFAULT_DEVICE_SPECIFIER</code> on a system without an audio capture device will result in <code>NULL</code> being returned.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 7. String Query Tables</caption>
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Description</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_DEFAULT_DEVICE_SPECIFIER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The specifier string for the default device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_DEVICE_SPECIFIER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The specifier string for the device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_EXTENSIONS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of available context extensions separated by spaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_CAPTURE_DEFAULT_DEVICE_SPECIFIER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the default capture device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_CAPTURE_DEVICE_SPECIFIER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the specified capture device, or a list of all available capture devices if no capture device is specified.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In addition, printable error message strings are provided for all valid error tokens, including <code>ALC_NO_ERROR</code>, <code>ALC_INVALID_DEVICE</code>, <code>ALC_INVALID_CONTEXT</code>, <code>ALC_INVALID_ENUM</code>, <code>ALC_INVALID_VALUE</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_integer_query">6.3.8. Integer Query</h4>
<div class="paragraph">
<p>The application can query ALC for information using an integer query function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alcGetIntegerv</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">,</span> <span class="n">ALCenum</span> <span class="n">token</span><span class="p">,</span> <span class="n">ALCsizei</span> <span class="n">size</span><span class="p">,</span> <span class="n">ALCint</span><span class="o">*</span> <span class="n">dest</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For some tokens, <code>NULL</code> is a legal <code>deviceHandle</code>. In other cases, specifying a <code>NULL</code>
device will generate an <code>ALC_INVALID_DEVICE</code> error. The application has to specify
the size of the destination buffer provided (in <code>ALCint</code> values). A <code>NULL</code> destination or a
zero size parameter will cause ALC to ignore the query.</p>
</div>
<div class="paragraph">
<p>All tokens in table <a href="#table_context_creation_attributes">Context Creation Attributes</a> and table <a href="#table_integer_query_types">Integer Query Types</a> are valid for this call.</p>
</div>
<table id="table_integer_query_types" class="tableblock frame-all grid-all fit-content">
<caption class="title">Table 8. Integer Query Types</caption>
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Name</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Description</em></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_ATTRIBUTES_SIZE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The size (number of <code>ALCint</code> values) required for a zero-terminated attributes list, for the current context. <code>NULL</code> is an invalid device.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_ALL_ATTRIBUTES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expects a destination of <code>ALC_ATTRIBUTES_SIZE</code>, and provides an attribute list for the current context of the specified device. <code>NULL</code> is an invalid device.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_MAJOR_VERSION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The specification revision for this implementation (major version). <code>NULL</code> is an acceptable device.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_MINOR_VERSION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The specification revision for this implementation (minor version). <code>NULL</code> is an acceptable device.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALC_CAPTURE_SAMPLES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of capture samples available. <code>NULL</code> is an invalid device.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_shared_objects">6.4. Shared Objects</h3>
<div class="paragraph">
<p>For efficiency reasons, certain AL objects are shared across ALC contexts. At this time, AL buffers are the only shared objects.</p>
</div>
<div class="sect3">
<h4 id="_shared_buffers">6.4.1. Shared Buffers</h4>
<div class="paragraph">
<p>Buffers are shared among contexts. The processing state of a buffer is determined by the dependencies imposed by all contexts, not just the current context. This includes suspended contexts as well as contexts that are processing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_capture">6.4.2. Capture</h4>
<div class="listingblock">
<div class="title">Procedures and Functions</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCdevice</span><span class="o">*</span> <span class="nf">alcCaptureOpenDevice</span><span class="p">(</span><span class="k">const</span> <span class="n">ALCchar</span><span class="o">*</span> <span class="n">deviceName</span><span class="p">,</span> <span class="n">ALCuint</span> <span class="n">freq</span><span class="p">,</span>
                                <span class="n">ALCenum</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">ALCsizei</span> <span class="n">bufsize</span><span class="p">);</span>
<span class="n">ALCboolean</span> <span class="nf">alcCaptureCloseDevice</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alcCaptureStart</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alcCaptureStop</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alcCaptureSamples</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">,</span> <span class="n">ALCvoid</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="n">ALCsizei</span> <span class="n">samps</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Tokens</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALC_CAPTURE_DEFAULT_DEVICE_SPECIFIER</span>
<span class="n">ALC_CAPTURE_DEVICE_SPECIFIER</span>
<span class="n">ALC_CAPTURE_SAMPLES</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Separate from traditional output devices, OpenAL may provide facilities for input, or <em>capture</em> of audio data from the user&#8217;s environment. Capture devices run parallel to the rest of the library, and don&#8217;t contain a context or possess most AL or ALC state. As such, they contain their own entry points that represent a greatly simplified interface.</p>
</div>
<div class="paragraph">
<p>The <code>alcCaptureOpenDevice</code> function allows the application to connect to a capture device. To obtain a list of all available capture devices, use <code>alcGetString</code> to retrieve <code>ALC_CAPTURE_DEVICE_SPECIFIER</code> with a <code>NULL</code> device specified - a list of all capture devices will be returned (each name will be <code>NULL</code>-terminated, and the list will be terminated with two <code>NULL</code> characters). Retrieving <code>ALC_CAPTURE_DEVICE_SPECIFIER</code> with a valid capture device specified will result in the name of that device being returned as a single <code>NULL</code>-terminated string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCdevice</span><span class="o">*</span> <span class="nf">alcCaptureOpenDevice</span><span class="p">(</span><span class="k">const</span> <span class="n">ALCchar</span><span class="o">*</span> <span class="n">deviceName</span><span class="p">,</span> <span class="n">ALCuint</span> <span class="n">freq</span><span class="p">,</span>
                                <span class="n">ALCenum</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">ALCsizei</span> <span class="n">bufsize</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the function returns <code>NULL</code>, then no sound driver/device has been found, or the requested format could not be fulfilled.</p>
</div>
<div class="paragraph">
<p>The <code>deviceName</code> argument is a null terminated string that requests a certain device or device configuration. If <code>NULL</code> is specified, the implementation will provide an implementation specific default. The <code>freq</code> and <code>fmt</code> arguments specify the format that audio data will be presented to the application, and match the values that can be passed to <code>alBufferData</code>. The implementation is expected to convert and resample to this format on behalf of the application. The <code>bufsize</code> argument specifies the number of sample frames to buffer in the AL, for example, requesting a format of <code>AL_FORMAT_STEREO16</code> and a buffer size of 1024 would require the AL to store up to 1024  4 bytes of audio data. Note that the implementation may use a larger buffer than requested if it needs to, but the implementation will set up a buffer of at least the requested size.</p>
</div>
<div class="paragraph">
<p>Specifying a compressed or extension-supplied format may result in failure, even if the extension is supplied for rendering.</p>
</div>
<div class="paragraph">
<p>The <code>alcCaptureCloseDevice</code> function allows the application to disconnect from a capture device.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCboolean</span> <span class="nf">alcCaptureCloseDevice</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">deviceHandle</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The return code will be <code>ALC_TRUE</code> or <code>ALC_FALSE</code>, indicating success or failure. If deviceHandle is <code>NULL</code> or invalid, an <code>ALC_INVALID_DEVICE</code> error will be generated. Once closed, a <code>deviceHandle</code> is invalid.</p>
</div>
<div class="sect4">
<h5 id="_audio_capture">Audio capture</h5>
<div class="paragraph">
<p>Once a capture device has been opened via <code>alcCaptureOpenDevice</code>, it is made to start recording audio via the <code>alcCaptureStart</code> entry point:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alcCaptureStart</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once started, the device will record audio to an internal ring buffer, the size of which was specified when opening the device.</p>
</div>
<div class="paragraph">
<p>The application may query the capture device to discover how much data is currently available via the <code>alcGetInteger</code> with the <code>ALC_CAPTURE_SAMPLES</code> token. This will report the number of sample frames currently available.</p>
</div>
<div class="paragraph">
<p>When the application feels there are enough samples available to process, it can obtain them from the AL via the <code>alcCaptureSamples</code> entry point:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alcCaptureSamples</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">,</span> <span class="n">ALCvoid</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="n">ALCsizei</span> <span class="n">samps</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>buf</code> argument specifies an application-allocated buffer that can contain at least <code>samps</code> sample frames. The implementation may defer conversion and resampling until this point. Requesting more sample frames than are currently available is an error.</p>
</div>
<div class="paragraph">
<p>If the application doesn&#8217;t need to capture more audio for an amount of time, they can halt the device without closing it via the <code>alcCaptureStop</code> entry point:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span> <span class="nf">alcCaptureStop</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The implementation is encouraged to optimize for this case. The amount of audio samples available after restarting a stopped capture device is reset to zero. The application does not need to stop the capture device to read from it.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_appendix_extensions">7. Appendix: Extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Extensions are a way to provide for future expansion of the OpenAL API. Typically, extensions are specified and proposed by a vendor, and can be treated as vendor neutral if no intellectual property restrictions apply. Extensions can also be specified as, or promoted to be, ARB extensions, which is usually the final step before adding a tried and true extension to the core API. ARB extensions, once specified, have mandatory presence for backwards compatibility.</p>
</div>
<div class="sect2">
<h3 id="_extension_query">7.1. Extension Query</h3>
<div class="paragraph">
<p>To use an extension, the application will have to obtain function addresses and enumeration values. Before an extension can be used, the application should verify the presence of an extension using <code>alIsExtensionPresent</code>. The application can then retrieve the address (function pointer) of an extension entry point using <code>alGetProcAddress</code>.</p>
</div>
<div class="paragraph">
<p>Extensions and entry points can be context-specific, and the application can not count on an extension being available unless <code>alIsExtensionPresent</code> returns <code>AL_TRUE</code>. The application also has to maintain pointers on a per-context basis.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALboolean</span> <span class="nf">alIsExtensionPresent</span><span class="p">(</span><span class="k">const</span> <span class="n">ALchar</span><span class="o">*</span> <span class="n">extName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns <code>AL_TRUE</code> if the given extension is supported for the current context, <code>AL_FALSE</code> otherwise. <code>extName</code> is not case sensitive  the implementation will convert the name to all upper-case internally (and will express extension names in upper-case).</p>
</div>
</div>
<div class="sect2">
<h3 id="_retrieving_function_entry_addresses">7.2. Retrieving Function Entry Addresses</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="kt">void</span><span class="o">*</span> <span class="nf">alGetProcAddress</span><span class="p">(</span><span class="k">const</span> <span class="n">ALchar</span><span class="o">*</span> <span class="n">funcName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns <code>NULL</code> if no entry point with the name funcName can be found. Implementations are free to return <code>NULL</code> if an entry point is present, but not applicable for the current context. However the specification does not guarantee this behavior.</p>
</div>
<div class="paragraph">
<p>Applications can use <code>alGetProcAddress</code> to obtain core API entry points, not just extensions. This is the recommended way to dynamically load and unload OpenAL DLL&#8217;s as sound drivers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_retrieving_enumeration_values_2">7.3. Retrieving Enumeration Values</h3>
<div class="paragraph">
<p>To obtain enumeration values for extensions, the application has to use <code>alGetEnumValue</code> of an extension token. Enumeration values are defined within the OpenAL name space and allocated according to specification of the core API and the extensions, thus they are context-independent.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALuint</span> <span class="nf">alGetEnumValue</span><span class="p">(</span><span class="k">const</span> <span class="n">ALchar</span><span class="o">*</span> <span class="n">enumName</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Returns <code>0</code> if the enumeration can not be found, and sets an <code>AL_INVALID_VALUE</code> error condition. The presence of an enum value does not guarantee the applicability of an extension to the current context. A non-zero return indicates merely that the implementation is aware of the existence of this extension.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_appendix_extension_process">8. Appendix: Extension Process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two ways to suggest an Extension to AL or ALC. The simplest way is to write
an ASCII text that matches the following template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>RFC:        rfc-iiyymmdd-nn
Name:       (indicating the purpose/feature)
Maintainer: (name and spam-secured e-mail)
Date:       (last revision)
Revision:   (last revision)

new enums
new functions

description of operation</pre>
</div>
</div>
<div class="paragraph">
<p>Such an RFC can be submitted on the OpenAL discussion list (please use RFC in the Subject line), or send to the maintainer of the OpenAL specification. If you are shipping an actual implementation as a patch or as part of the OpenAL CVS a formal writeup is recommend. In this case, the Extension has to be described as part of the specification, which is maintained in OpenOffice.org format.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_appendix_1_0_compatible_extensions">9. Appendix: 1.0-Compatible Extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section shows how to access most of the expanded functionality of OpenAL 1.1 from an OpenAL 1.0 application. It is not necessary to query for these extensions from an OpenAL 1.1 application (use the <code>ALC_MAJOR_VERSION</code> and <code>ALC_MINOR_VERSION</code> properties to verify the implementation version).</p>
</div>
<div class="sect2">
<h3 id="_alc_ext_capture">9.1. <code>ALC_EXT_CAPTURE</code></h3>
<div class="paragraph">
<p>An OpenAL 1.1 implementation will always support the <code>ALC_EXT_CAPTURE</code> extension. This allows an application written to the OpenAL 1.0 specification to access the capture abilities expressed in section <a href="#_capture">Capture</a>.</p>
</div>
<div class="listingblock">
<div class="title">Capture Procedures and Functions</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALCdevice</span><span class="o">*</span> <span class="nf">alcCaptureOpenDevice</span><span class="p">(</span><span class="k">const</span> <span class="n">ALCchar</span><span class="o">*</span> <span class="n">deviceName</span><span class="p">,</span> <span class="n">ALCuint</span> <span class="n">freq</span><span class="p">,</span>
                                <span class="n">ALCenum</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">ALCsizei</span> <span class="n">bufsize</span><span class="p">);</span>
<span class="n">ALCboolean</span> <span class="nf">alcCaptureCloseDevice</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alcCaptureStart</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alcCaptureStop</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">alcCaptureSamples</span><span class="p">(</span><span class="n">ALCdevice</span><span class="o">*</span> <span class="n">device</span><span class="p">,</span> <span class="n">ALCvoid</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="n">ALCsizei</span> <span class="n">samps</span><span class="p">);</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Capture Tokens</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">ALC_CAPTURE_DEFAULT_DEVICE_SPECIFIER</span>
<span class="n">ALC_CAPTURE_DEVICE_SPECIFIER</span>
<span class="n">ALC_CAPTURE_SAMPLES</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_al_ext_offset">9.2. <code>AL_EXT_OFFSET</code></h3>
<div class="paragraph">
<p>An OpenAL 1.1 implementation will always support the <code>AL_EXT_OFFSET</code> extension. This allows an application written to the OpenAL 1.0 specification to access the offset abilities expressed in section <a href="#_source_attributes">Source Attributes</a>.</p>
</div>
<div class="listingblock">
<div class="title">Offset tokens</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">AL_SEC_OFFSET</span>
<span class="n">AL_SAMPLE_OFFSET</span>
<span class="n">AL_BYTE_OFFSET</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_al_ext_linear_distance">9.3. <code>AL_EXT_LINEAR_DISTANCE</code></h3>
<div class="paragraph">
<p>An OpenAL 1.1 implementation will always support the <code>AL_EXT_LINEAR_DISTANCE</code> extension. This allows an application written to the OpenAL 1.0 specification to access the offset abilities expressed in sections <a href="#_linear_distance_rolloff_model">Linear Distance Rolloff Model</a> and <a href="#_linear_distance_clamped_model">Linear Distance Clamped Model</a>.</p>
</div>
<div class="listingblock">
<div class="title">Tokens</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">AL_LINEAR_DISTANCE</span>
<span class="n">AL_LINEAR_DISTANCE_CLAMPED</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_al_ext_exponent_distance">9.4. <code>AL_EXT_EXPONENT_DISTANCE</code></h3>
<div class="paragraph">
<p>An OpenAL 1.1 implementation will always support the <code>AL_EXT_EXPONENT_DISTANCE</code> extension. This allows an application written to the OpenAL 1.0 specification to access the offset abilities expressed in sections <a href="#_exponential_distance_rolloff_model">Exponential Distance Rolloff Model</a> and <a href="#_exponential_distance_clamped_model">Exponential Distance Clamped Model</a>.</p>
</div>
<div class="listingblock">
<div class="title">Tokens</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="n">AL_EXPONENT_DISTANCE</span>
<span class="n">AL_EXPONENT_DISTANCE_CLAMPED</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_alc_enumeration_ext">9.5. <code>ALC_ENUMERATION_EXT</code></h3>
<div class="paragraph">
<p>An OpenAL 1.1 implementation will always support the <code>ALC_ENUMERATION_EXT</code> extension. This extension provides for enumeration of the available OpenAL devices through <code>alcGetString</code>. An <code>alcGetString</code> query of <code>ALC_DEVICE_SPECIFIER</code> with a <code>NULL</code> device passed in will return a list of devices. Each device name will be separated by a single <code>NULL</code> character and the list will be terminated with two <code>NULL</code> characters.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-10-06 11:23:08 +0200
</div>
</div>
</body>
</html>